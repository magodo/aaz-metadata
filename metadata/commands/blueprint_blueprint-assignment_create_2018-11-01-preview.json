{"argGroups":[{"args":[{"help":{"short":"Name of the blueprint assignment."},"options":["assignment-name"],"required":true,"type":"string","var":"$Path.assignmentName"},{"help":{"short":"The scope of the resource. Valid scopes are: management group (format: '/providers/Microsoft.Management/managementGroups/{managementGroup}'), subscription (format: '/subscriptions/{subscriptionId}')."},"options":["resource-scope"],"required":true,"type":"string","var":"$Path.resourceScope"}],"name":""},{"args":[{"group":"Assignment","help":{"short":"The location of this blueprint assignment."},"options":["l","location"],"required":true,"type":"ResourceLocation","var":"$assignment.location"}],"name":"Assignment"},{"args":[{"group":"Identity","help":{"short":"Azure Active Directory principal ID associated with this Identity."},"options":["principal-id"],"type":"string","var":"$assignment.identity.principalId"},{"blank":{"value":"True"},"group":"Identity","help":{"short":"Set the system managed identity."},"options":["system-assigned","mi-system-assigned"],"type":"string","var":"$assignment.identity.systemAssigned"},{"group":"Identity","help":{"short":"ID of the Azure Active Directory."},"options":["tenant-id"],"type":"string","var":"$assignment.identity.tenantId"},{"enum":{"items":[{"name":"None","value":"None"},{"name":"SystemAssigned","value":"SystemAssigned"},{"name":"UserAssigned","value":"UserAssigned"}]},"group":"Identity","help":{"short":"Type of the managed identity."},"hide":true,"options":["type"],"required":true,"type":"string","var":"$assignment.identity.type"},{"blank":{"value":[]},"group":"Identity","help":{"short":"Set the user managed identities."},"item":{"type":"string"},"options":["user-assigned","mi-user-assigned"],"type":"array<string>","var":"$assignment.identity.userAssigned"},{"additionalProps":{"item":{"args":[{"help":{"short":"Client App Id associated with this identity."},"options":["client-id"],"type":"string","var":"$assignment.identity.userAssignedIdentities{}.clientId"},{"help":{"short":"Azure Active Directory principal ID associated with this Identity."},"options":["principal-id"],"type":"string","var":"$assignment.identity.userAssignedIdentities{}.principalId"}],"type":"object"}},"group":"Identity","help":{"short":"The list of user-assigned managed identities associated with the resource. Key is the Azure resource Id of the managed identity."},"hide":true,"options":["user-assigned-identities"],"type":"object","var":"$assignment.identity.userAssignedIdentities"}],"name":"Identity"},{"args":[{"group":"Properties","help":{"short":"ID of the published version of a blueprint definition."},"options":["blueprint-id"],"type":"string","var":"$assignment.properties.blueprintId"},{"format":{"maxLength":500},"group":"Properties","help":{"short":"Multi-line explain this resource."},"options":["description"],"type":"string","var":"$assignment.properties.description"},{"format":{"maxLength":256},"group":"Properties","help":{"short":"One-liner string explain this resource."},"options":["display-name"],"type":"string","var":"$assignment.properties.displayName"},{"args":[{"help":{"short":"List of management operations that are excluded from blueprint locks. Up to 200 actions are permitted. If the lock mode is set to 'AllResourcesReadOnly', then the following actions are automatically appended to 'excludedActions': '*/read', 'Microsoft.Network/virtualNetworks/subnets/join/action' and 'Microsoft.Authorization/locks/delete'. If the lock mode is set to 'AllResourcesDoNotDelete', then the following actions are automatically appended to 'excludedActions': 'Microsoft.Authorization/locks/delete'. Duplicate actions will get removed."},"item":{"type":"string"},"options":["excluded-actions"],"type":"array<string>","var":"$assignment.properties.locks.excludedActions"},{"help":{"short":"List of AAD principals excluded from blueprint locks. Up to 5 principals are permitted."},"item":{"type":"string"},"options":["excluded-principals"],"type":"array<string>","var":"$assignment.properties.locks.excludedPrincipals"},{"enum":{"items":[{"name":"AllResourcesDoNotDelete","value":"AllResourcesDoNotDelete"},{"name":"AllResourcesReadOnly","value":"AllResourcesReadOnly"},{"name":"None","value":"None"}]},"help":{"short":"Lock mode."},"options":["mode"],"type":"string","var":"$assignment.properties.locks.mode"}],"group":"Properties","help":{"short":"Defines how resources deployed by a blueprint assignment are locked."},"options":["locks"],"type":"object","var":"$assignment.properties.locks"},{"additionalProps":{"item":{"args":[{"args":[{"args":[{"help":{"short":"Azure resource ID of the Key Vault."},"options":["id"],"required":true,"type":"string","var":"$assignment.properties.parameters{}.reference.keyVault.id"}],"help":{"short":"Specifies the reference to a given Azure Key Vault."},"options":["key-vault"],"required":true,"type":"object","var":"$assignment.properties.parameters{}.reference.keyVault"},{"help":{"short":"Name of the secret."},"options":["secret-name"],"required":true,"type":"string","var":"$assignment.properties.parameters{}.reference.secretName"},{"help":{"short":"The version of the secret to use. If left blank, the latest version of the secret is used."},"options":["secret-version"],"type":"string","var":"$assignment.properties.parameters{}.reference.secretVersion"}],"help":{"short":"Parameter value as reference type."},"options":["reference"],"type":"object","var":"$assignment.properties.parameters{}.reference"},{"additionalProps":{"item":{"type":"any"}},"help":{"short":"Parameter value. Any valid JSON value is allowed including objects, arrays, strings, numbers and booleans."},"options":["value"],"type":"object","var":"$assignment.properties.parameters{}.value"}],"type":"object"}},"group":"Properties","help":{"short":"Blueprint assignment parameter values."},"options":["parameters"],"required":true,"type":"object","var":"$assignment.properties.parameters"},{"additionalProps":{"item":{"args":[{"help":{"short":"Location of the resource group."},"options":["location"],"type":"string","var":"$assignment.properties.resourceGroups{}.location"},{"format":{"maxLength":90,"minLength":1},"help":{"short":"Name of the resource group."},"options":["name"],"type":"string","var":"$assignment.properties.resourceGroups{}.name"}],"type":"object"}},"group":"Properties","help":{"short":"Names and locations of resource group placeholders."},"options":["resource-groups"],"required":true,"type":"object","var":"$assignment.properties.resourceGroups"},{"group":"Properties","help":{"short":"The target subscription scope of the blueprint assignment (format: '/subscriptions/{subscriptionId}'). For management group level assignments, the property is required."},"options":["scope"],"type":"string","var":"$assignment.properties.scope"}],"name":"Properties"}],"operations":[{"http":{"path":"/{resourceScope}/providers/Microsoft.Blueprint/blueprintAssignments/{assignmentName}","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"assignment","props":[{"name":"identity","props":[{"arg":"$assignment.identity.principalId","name":"principalId","type":"string"},{"arg":"$assignment.identity.tenantId","name":"tenantId","type":"string"},{"arg":"$assignment.identity.type","enum":{"items":[{"value":"None"},{"value":"SystemAssigned"},{"value":"UserAssigned"}]},"name":"type","required":true,"type":"string"},{"additionalProps":{"item":{"props":[{"arg":"$assignment.identity.userAssignedIdentities{}.clientId","name":"clientId","type":"string"},{"arg":"$assignment.identity.userAssignedIdentities{}.principalId","name":"principalId","type":"string"}],"type":"object"}},"arg":"$assignment.identity.userAssignedIdentities","name":"userAssignedIdentities","type":"object"}],"required":true,"systemAssigned":{"action":"create","arg":"$assignment.identity.systemAssigned","name":"systemAssigned","type":"string"},"type":"IdentityObject","userAssigned":{"action":"create","arg":"$assignment.identity.userAssigned","item":{"action":"create","type":"string"},"name":"userAssigned","type":"array<string>"}},{"arg":"$assignment.location","name":"location","required":true,"type":"ResourceLocation"},{"clientFlatten":true,"name":"properties","props":[{"arg":"$assignment.properties.blueprintId","name":"blueprintId","type":"string"},{"arg":"$assignment.properties.description","format":{"maxLength":500},"name":"description","type":"string"},{"arg":"$assignment.properties.displayName","format":{"maxLength":256},"name":"displayName","type":"string"},{"arg":"$assignment.properties.locks","name":"locks","props":[{"arg":"$assignment.properties.locks.excludedActions","item":{"type":"string"},"name":"excludedActions","type":"array<string>"},{"arg":"$assignment.properties.locks.excludedPrincipals","item":{"type":"string"},"name":"excludedPrincipals","type":"array<string>"},{"arg":"$assignment.properties.locks.mode","enum":{"items":[{"value":"AllResourcesDoNotDelete"},{"value":"AllResourcesReadOnly"},{"value":"None"}]},"name":"mode","type":"string"}],"type":"object"},{"additionalProps":{"item":{"props":[{"arg":"$assignment.properties.parameters{}.reference","name":"reference","props":[{"arg":"$assignment.properties.parameters{}.reference.keyVault","name":"keyVault","props":[{"arg":"$assignment.properties.parameters{}.reference.keyVault.id","name":"id","required":true,"type":"string"}],"required":true,"type":"object"},{"arg":"$assignment.properties.parameters{}.reference.secretName","name":"secretName","required":true,"type":"string"},{"arg":"$assignment.properties.parameters{}.reference.secretVersion","name":"secretVersion","type":"string"}],"type":"object"},{"additionalProps":{"item":{"type":"any"}},"arg":"$assignment.properties.parameters{}.value","name":"value","type":"object"}],"type":"object"}},"arg":"$assignment.properties.parameters","name":"parameters","required":true,"type":"object"},{"additionalProps":{"item":{"props":[{"arg":"$assignment.properties.resourceGroups{}.location","name":"location","type":"string"},{"arg":"$assignment.properties.resourceGroups{}.name","format":{"maxLength":90,"minLength":1},"name":"name","type":"string"}],"type":"object"}},"arg":"$assignment.properties.resourceGroups","name":"resourceGroups","required":true,"type":"object"},{"arg":"$assignment.properties.scope","name":"scope","type":"string"}],"required":true,"type":"object"}],"required":true,"type":"object"}}},"method":"put","path":{"params":[{"arg":"$Path.assignmentName","name":"assignmentName","required":true,"type":"string"},{"arg":"$Path.resourceScope","name":"resourceScope","required":true,"skipUrlEncoding":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2018-11-01-preview"},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"format":{"template":"/{resourceScope}/providers/Microsoft.Blueprint/blueprintAssignments/{}"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"identity","props":[{"name":"principalId","type":"string"},{"name":"tenantId","type":"string"},{"enum":{"items":[{"value":"None"},{"value":"SystemAssigned"},{"value":"UserAssigned"}]},"name":"type","required":true,"type":"string"},{"additionalProps":{"item":{"props":[{"name":"clientId","type":"string"},{"name":"principalId","type":"string"}],"type":"object"}},"name":"userAssignedIdentities","type":"object"}],"required":true,"type":"IdentityObject"},{"name":"location","required":true,"type":"ResourceLocation"},{"name":"name","readOnly":true,"type":"string"},{"clientFlatten":true,"name":"properties","props":[{"name":"blueprintId","type":"string"},{"format":{"maxLength":500},"name":"description","type":"string"},{"format":{"maxLength":256},"name":"displayName","type":"string"},{"name":"locks","props":[{"item":{"type":"string"},"name":"excludedActions","type":"array<string>"},{"item":{"type":"string"},"name":"excludedPrincipals","type":"array<string>"},{"enum":{"items":[{"value":"AllResourcesDoNotDelete"},{"value":"AllResourcesReadOnly"},{"value":"None"}]},"name":"mode","type":"string"}],"type":"object"},{"additionalProps":{"item":{"props":[{"name":"reference","props":[{"name":"keyVault","props":[{"name":"id","required":true,"type":"string"}],"required":true,"type":"object"},{"name":"secretName","required":true,"type":"string"},{"name":"secretVersion","type":"string"}],"type":"object"},{"additionalProps":{"item":{"type":"any"}},"name":"value","type":"object"}],"type":"object"}},"name":"parameters","required":true,"type":"object"},{"enum":{"items":[{"value":"canceled"},{"value":"cancelling"},{"value":"creating"},{"value":"deleting"},{"value":"deploying"},{"value":"failed"},{"value":"locking"},{"value":"succeeded"},{"value":"validating"},{"value":"waiting"}]},"name":"provisioningState","readOnly":true,"type":"string"},{"additionalProps":{"item":{"props":[{"name":"location","type":"string"},{"format":{"maxLength":90,"minLength":1},"name":"name","type":"string"}],"type":"object"}},"name":"resourceGroups","required":true,"type":"object"},{"name":"scope","type":"string"},{"name":"status","props":[{"format":{"protocol":"iso"},"name":"lastModified","readOnly":true,"type":"dateTime"},{"item":{"type":"string"},"name":"managedResources","readOnly":true,"type":"array<string>"},{"format":{"protocol":"iso"},"name":"timeCreated","readOnly":true,"type":"dateTime"}],"readOnly":true,"type":"object"}],"required":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[201]},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"operationId":"Assignments_CreateOrUpdate"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/{resourcescope}/providers/microsoft.blueprint/blueprintassignments/{}","plane":"mgmt-plane"}]}