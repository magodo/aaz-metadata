{"argGroups":[{"args":[{"help":{"short":"Name of the policy"},"idPart":"child_name_1","options":["n","name","backup-policy-name"],"required":true,"type":"string","var":"$Path.backupPolicyName"},{"idPart":"resource_group","options":["g","resource-group"],"required":true,"type":"ResourceGroupName","var":"$Path.resourceGroupName"},{"idPart":"subscription","options":["subscription"],"required":true,"type":"SubscriptionId","var":"$Path.subscriptionId"},{"help":{"short":"The name of the backup vault."},"idPart":"name","options":["vault-name"],"required":true,"type":"string","var":"$Path.vaultName"}],"name":""},{"args":[{"args":[{"help":{"short":"Policy rule dictionary that contains rules for each backuptype i.e Full/Incremental/Logs etc"},"item":{"args":[{"args":[{"args":[{"args":[{"help":{"short":"BackupType ; Full/Incremental etc"},"options":["backup-type"],"required":true,"type":"string","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.backupParameters.AzureBackupParams.backupType"}],"options":["azure-backup-params"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.backupParameters.AzureBackupParams"}],"help":{"short":"BackupParameters base"},"options":["backup-parameters"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.backupParameters"},{"args":[{"enum":{"items":[{"name":"ArchiveStore","value":"ArchiveStore"},{"name":"OperationalStore","value":"OperationalStore"},{"name":"VaultStore","value":"VaultStore"}]},"help":{"short":"type of datastore; Operational/Vault/Archive"},"options":["data-store-type"],"required":true,"type":"string","var":"@DataStoreInfoBase_create.dataStoreType"},{"help":{"short":"Type of Datasource object, used to initialize the right inherited type"},"options":["object-type"],"required":true,"type":"string","var":"@DataStoreInfoBase_create.objectType"}],"cls":"DataStoreInfoBase_create","help":{"short":"DataStoreInfo base"},"options":["data-store"],"required":true,"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.dataStore"},{"args":[{"args":[{"args":[{"args":[{"help":{"short":"Retention Tag Name to relate it to retention rule."},"options":["tag-name"],"required":true,"type":"string","var":"@RetentionTag_create.tagName"}],"cls":"RetentionTag_create","help":{"short":"Retention tag information"},"options":["tag-info"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.AdhocBasedTriggerContext.taggingCriteria.tagInfo"}],"help":{"short":"Tagging Criteria containing retention tag for adhoc backup."},"options":["tagging-criteria"],"required":true,"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.AdhocBasedTriggerContext.taggingCriteria"}],"options":["adhoc-based-trigger-context"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.AdhocBasedTriggerContext"},{"args":[{"args":[{"help":{"short":"ISO 8601 repeating time interval format"},"item":{"type":"string"},"options":["repeating-time-intervals"],"required":true,"type":"array<string>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.schedule.repeatingTimeIntervals"},{"help":{"short":"Time zone for a schedule. Example: Pacific Standard Time"},"options":["time-zone"],"type":"string","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.schedule.timeZone"}],"help":{"short":"Schedule for this backup"},"options":["schedule"],"required":true,"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.schedule"},{"help":{"short":"List of tags that can be applicable for given schedule."},"item":{"args":[{"help":{"short":"Criteria which decides whether the tag can be applied to a triggered backup."},"item":{"args":[{"args":[{"help":{"short":"it contains absolute values like \"AllBackup\" / \"FirstOfDay\" / \"FirstOfWeek\" / \"FirstOfMonth\"\r and should be part of AbsoluteMarker enum"},"item":{"enum":{"items":[{"name":"AllBackup","value":"AllBackup"},{"name":"FirstOfDay","value":"FirstOfDay"},{"name":"FirstOfMonth","value":"FirstOfMonth"},{"name":"FirstOfWeek","value":"FirstOfWeek"},{"name":"FirstOfYear","value":"FirstOfYear"}]},"type":"string"},"options":["absolute-criteria"],"type":"array<string>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.absoluteCriteria"},{"help":{"short":"This is day of the month from 1 to 28 other wise last of month"},"item":{"args":[{"help":{"short":"Date of the month"},"options":["date"],"type":"integer32","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.daysOfMonth[].date"},{"help":{"short":"Whether Date is last date of month"},"options":["is-last"],"type":"boolean","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.daysOfMonth[].isLast"}],"type":"object"},"options":["days-of-month"],"type":"array<object>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.daysOfMonth"},{"help":{"short":"It should be Sunday/Monday/T..../Saturday"},"item":{"enum":{"items":[{"name":"Friday","value":"Friday"},{"name":"Monday","value":"Monday"},{"name":"Saturday","value":"Saturday"},{"name":"Sunday","value":"Sunday"},{"name":"Thursday","value":"Thursday"},{"name":"Tuesday","value":"Tuesday"},{"name":"Wednesday","value":"Wednesday"}]},"type":"string"},"options":["days-of-the-week"],"type":"array<string>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.daysOfTheWeek"},{"help":{"short":"It should be January/February/....../December"},"item":{"enum":{"items":[{"name":"April","value":"April"},{"name":"August","value":"August"},{"name":"December","value":"December"},{"name":"February","value":"February"},{"name":"January","value":"January"},{"name":"July","value":"July"},{"name":"June","value":"June"},{"name":"March","value":"March"},{"name":"May","value":"May"},{"name":"November","value":"November"},{"name":"October","value":"October"},{"name":"September","value":"September"}]},"type":"string"},"options":["months-of-year"],"type":"array<string>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.monthsOfYear"},{"help":{"short":"List of schedule times for backup"},"item":{"format":{"protocol":"iso"},"type":"dateTime"},"options":["schedule-times"],"type":"array<dateTime>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.scheduleTimes"},{"help":{"short":"It should be First/Second/Third/Fourth/Last"},"item":{"enum":{"items":[{"name":"First","value":"First"},{"name":"Fourth","value":"Fourth"},{"name":"Last","value":"Last"},{"name":"Second","value":"Second"},{"name":"Third","value":"Third"}]},"type":"string"},"options":["weeks-of-the-month"],"type":"array<string>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.weeksOfTheMonth"}],"options":["schedule-based-backup-criteria"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria"}],"type":"object"},"options":["criteria"],"type":"array<object>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria"},{"help":{"short":"Specifies if tag is default."},"options":["is-default"],"required":true,"type":"boolean","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].isDefault"},{"help":{"short":"Retention tag information"},"options":["tag-info"],"required":true,"type":"@RetentionTag_create","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].tagInfo"},{"help":{"short":"Retention Tag priority."},"options":["tagging-priority"],"required":true,"type":"integer64","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].taggingPriority"}],"type":"object"},"options":["tagging-criteria"],"required":true,"type":"array<object>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria"}],"options":["schedule-based-trigger-context"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext"}],"help":{"short":"Trigger context"},"options":["trigger"],"required":true,"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger"}],"options":["azure-backup-rule"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule"},{"args":[{"options":["is-default"],"type":"boolean","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.isDefault"},{"item":{"args":[{"args":[{"blank":{"value":{}},"options":["absolute-delete-option"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].deleteAfter.AbsoluteDeleteOption"},{"help":{"short":"Duration of deletion after given timespan"},"options":["duration"],"required":true,"type":"string","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].deleteAfter.duration"}],"help":{"short":"Delete Option"},"options":["delete-after"],"required":true,"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].deleteAfter"},{"options":["source-data-store"],"required":true,"type":"@DataStoreInfoBase_create","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].sourceDataStore"},{"item":{"args":[{"args":[{"blank":{"value":{}},"options":["copy-on-expiry-option"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter.CopyOnExpiryOption"},{"args":[{"help":{"short":"Data copied after given timespan"},"options":["duration"],"type":"string","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter.CustomCopyOption.duration"}],"options":["custom-copy-option"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter.CustomCopyOption"},{"blank":{"value":{}},"options":["immediate-copy-option"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter.ImmediateCopyOption"}],"help":{"short":"It can be CustomCopyOption or ImmediateCopyOption."},"options":["copy-after"],"required":true,"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter"},{"help":{"short":"Info of target datastore"},"options":["data-store"],"required":true,"type":"@DataStoreInfoBase_create","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].dataStore"}],"type":"object"},"options":["target-data-store-copy-settings"],"type":"array<object>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings"}],"type":"object"},"options":["lifecycles"],"required":true,"type":"array<object>","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles"}],"options":["azure-retention-rule"],"type":"object","var":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule"},{"options":["name"],"required":true,"type":"string","var":"$parameters.properties.BackupPolicy.policyRules[].name"}],"type":"object"},"options":["policy-rules"],"required":true,"type":"array<object>","var":"$parameters.properties.BackupPolicy.policyRules"}],"group":"Properties","options":["backup-policy"],"type":"object","var":"$parameters.properties.BackupPolicy"},{"group":"Properties","help":{"short":"Type of datasource for the backup management"},"item":{"type":"string"},"options":["datasource-types"],"type":"array<string>","var":"$parameters.properties.datasourceTypes"}],"name":"Properties"}],"operations":[{"http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataProtection/backupVaults/{vaultName}/backupPolicies/{backupPolicyName}","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"parameters","props":[{"discriminators":[{"property":"objectType","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules","item":{"discriminators":[{"property":"objectType","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.backupParameters","discriminators":[{"property":"objectType","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.backupParameters.AzureBackupParams.backupType","name":"backupType","required":true,"type":"string"}],"value":"AzureBackupParams"}],"name":"backupParameters","props":[{"enum":{"items":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.backupParameters.AzureBackupParams","value":"AzureBackupParams"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.dataStore","cls":"DataStoreInfoBase_create","name":"dataStore","props":[{"arg":"@DataStoreInfoBase_create.dataStoreType","enum":{"items":[{"value":"ArchiveStore"},{"value":"OperationalStore"},{"value":"VaultStore"}]},"name":"dataStoreType","required":true,"type":"string"},{"arg":"@DataStoreInfoBase_create.objectType","name":"objectType","required":true,"type":"string"}],"required":true,"type":"object"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger","discriminators":[{"property":"objectType","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.AdhocBasedTriggerContext.taggingCriteria","name":"taggingCriteria","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.AdhocBasedTriggerContext.taggingCriteria.tagInfo","cls":"RetentionTag_create","name":"tagInfo","props":[{"arg":"@RetentionTag_create.tagName","name":"tagName","required":true,"type":"string"}],"type":"object"}],"required":true,"type":"object"}],"value":"AdhocBasedTriggerContext"},{"property":"objectType","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.schedule","name":"schedule","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.schedule.repeatingTimeIntervals","item":{"type":"string"},"name":"repeatingTimeIntervals","required":true,"type":"array<string>"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.schedule.timeZone","name":"timeZone","type":"string"}],"required":true,"type":"object"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria","item":{"props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria","item":{"discriminators":[{"property":"objectType","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.absoluteCriteria","item":{"enum":{"items":[{"value":"AllBackup"},{"value":"FirstOfDay"},{"value":"FirstOfMonth"},{"value":"FirstOfWeek"},{"value":"FirstOfYear"}]},"type":"string"},"name":"absoluteCriteria","type":"array<string>"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.daysOfMonth","item":{"props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.daysOfMonth[].date","name":"date","type":"integer32"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.daysOfMonth[].isLast","name":"isLast","type":"boolean"}],"type":"object"},"name":"daysOfMonth","type":"array<object>"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.daysOfTheWeek","item":{"enum":{"items":[{"value":"Friday"},{"value":"Monday"},{"value":"Saturday"},{"value":"Sunday"},{"value":"Thursday"},{"value":"Tuesday"},{"value":"Wednesday"}]},"type":"string"},"name":"daysOfTheWeek","type":"array<string>"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.monthsOfYear","item":{"enum":{"items":[{"value":"April"},{"value":"August"},{"value":"December"},{"value":"February"},{"value":"January"},{"value":"July"},{"value":"June"},{"value":"March"},{"value":"May"},{"value":"November"},{"value":"October"},{"value":"September"}]},"type":"string"},"name":"monthsOfYear","type":"array<string>"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.scheduleTimes","item":{"format":{"protocol":"iso"},"type":"dateTime"},"name":"scheduleTimes","type":"array<dateTime>"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria.weeksOfTheMonth","item":{"enum":{"items":[{"value":"First"},{"value":"Fourth"},{"value":"Last"},{"value":"Second"},{"value":"Third"}]},"type":"string"},"name":"weeksOfTheMonth","type":"array<string>"}],"value":"ScheduleBasedBackupCriteria"}],"props":[{"enum":{"items":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].criteria[].ScheduleBasedBackupCriteria","value":"ScheduleBasedBackupCriteria"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},"name":"criteria","type":"array<object>"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].isDefault","name":"isDefault","required":true,"type":"boolean"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].tagInfo","name":"tagInfo","required":true,"type":"@RetentionTag_create"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext.taggingCriteria[].taggingPriority","name":"taggingPriority","required":true,"type":"integer64"}],"type":"object"},"name":"taggingCriteria","required":true,"type":"array<object>"}],"value":"ScheduleBasedTriggerContext"}],"name":"trigger","props":[{"enum":{"items":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.AdhocBasedTriggerContext","value":"AdhocBasedTriggerContext"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule.trigger.ScheduleBasedTriggerContext","value":"ScheduleBasedTriggerContext"}]},"name":"objectType","required":true,"type":"string"}],"required":true,"type":"object"}],"value":"AzureBackupRule"},{"property":"objectType","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.isDefault","name":"isDefault","type":"boolean"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles","item":{"props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].deleteAfter","discriminators":[{"property":"objectType","value":"AbsoluteDeleteOption"}],"name":"deleteAfter","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].deleteAfter.duration","name":"duration","required":true,"type":"string"},{"enum":{"items":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].deleteAfter.AbsoluteDeleteOption","value":"AbsoluteDeleteOption"}]},"name":"objectType","required":true,"type":"string"}],"required":true,"type":"object"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].sourceDataStore","name":"sourceDataStore","required":true,"type":"@DataStoreInfoBase_create"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings","item":{"props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter","discriminators":[{"property":"objectType","value":"CopyOnExpiryOption"},{"property":"objectType","props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter.CustomCopyOption.duration","name":"duration","type":"string"}],"value":"CustomCopyOption"},{"property":"objectType","value":"ImmediateCopyOption"}],"name":"copyAfter","props":[{"enum":{"items":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter.CopyOnExpiryOption","value":"CopyOnExpiryOption"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter.CustomCopyOption","value":"CustomCopyOption"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].copyAfter.ImmediateCopyOption","value":"ImmediateCopyOption"}]},"name":"objectType","required":true,"type":"string"}],"required":true,"type":"object"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule.lifecycles[].targetDataStoreCopySettings[].dataStore","name":"dataStore","required":true,"type":"@DataStoreInfoBase_create"}],"type":"object"},"name":"targetDataStoreCopySettings","type":"array<object>"}],"type":"object"},"name":"lifecycles","required":true,"type":"array<object>"}],"value":"AzureRetentionRule"}],"props":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].name","name":"name","required":true,"type":"string"},{"enum":{"items":[{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureBackupRule","value":"AzureBackupRule"},{"arg":"$parameters.properties.BackupPolicy.policyRules[].AzureRetentionRule","value":"AzureRetentionRule"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},"name":"policyRules","required":true,"type":"array<object>"}],"value":"BackupPolicy"}],"name":"properties","props":[{"arg":"$parameters.properties.datasourceTypes","item":{"type":"string"},"name":"datasourceTypes","required":true,"type":"array<string>"},{"enum":{"items":[{"arg":"$parameters.properties.BackupPolicy","value":"BackupPolicy"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"}],"required":true,"type":"object"}}},"method":"put","path":{"params":[{"arg":"$Path.backupPolicyName","name":"backupPolicyName","required":true,"type":"string"},{"arg":"$Path.resourceGroupName","format":{"maxLength":90,"minLength":1},"name":"resourceGroupName","required":true,"type":"string"},{"arg":"$Path.subscriptionId","name":"subscriptionId","required":true,"type":"uuid"},{"arg":"$Path.vaultName","name":"vaultName","required":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2023-01-01"},"format":{"minLength":1},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.DataProtection/backupVaults/{}/backupPolicies/{}"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"name","readOnly":true,"type":"string"},{"discriminators":[{"property":"objectType","props":[{"item":{"discriminators":[{"property":"objectType","props":[{"discriminators":[{"property":"objectType","props":[{"name":"backupType","required":true,"type":"string"}],"value":"AzureBackupParams"}],"name":"backupParameters","props":[{"enum":{"items":[{"value":"AzureBackupParams"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},{"cls":"DataStoreInfoBase_read","name":"dataStore","props":[{"enum":{"items":[{"value":"ArchiveStore"},{"value":"OperationalStore"},{"value":"VaultStore"}]},"name":"dataStoreType","required":true,"type":"string"},{"name":"objectType","required":true,"type":"string"}],"required":true,"type":"object"},{"discriminators":[{"property":"objectType","props":[{"name":"taggingCriteria","props":[{"cls":"RetentionTag_read","name":"tagInfo","props":[{"name":"eTag","readOnly":true,"type":"string"},{"name":"id","readOnly":true,"type":"string"},{"name":"tagName","required":true,"type":"string"}],"type":"object"}],"required":true,"type":"object"}],"value":"AdhocBasedTriggerContext"},{"property":"objectType","props":[{"name":"schedule","props":[{"item":{"type":"string"},"name":"repeatingTimeIntervals","required":true,"type":"array<string>"},{"name":"timeZone","type":"string"}],"required":true,"type":"object"},{"item":{"props":[{"item":{"discriminators":[{"property":"objectType","props":[{"item":{"enum":{"items":[{"value":"AllBackup"},{"value":"FirstOfDay"},{"value":"FirstOfMonth"},{"value":"FirstOfWeek"},{"value":"FirstOfYear"}]},"type":"string"},"name":"absoluteCriteria","type":"array<string>"},{"item":{"props":[{"name":"date","type":"integer32"},{"name":"isLast","type":"boolean"}],"type":"object"},"name":"daysOfMonth","type":"array<object>"},{"item":{"enum":{"items":[{"value":"Friday"},{"value":"Monday"},{"value":"Saturday"},{"value":"Sunday"},{"value":"Thursday"},{"value":"Tuesday"},{"value":"Wednesday"}]},"type":"string"},"name":"daysOfTheWeek","type":"array<string>"},{"item":{"enum":{"items":[{"value":"April"},{"value":"August"},{"value":"December"},{"value":"February"},{"value":"January"},{"value":"July"},{"value":"June"},{"value":"March"},{"value":"May"},{"value":"November"},{"value":"October"},{"value":"September"}]},"type":"string"},"name":"monthsOfYear","type":"array<string>"},{"item":{"format":{"protocol":"iso"},"type":"dateTime"},"name":"scheduleTimes","type":"array<dateTime>"},{"item":{"enum":{"items":[{"value":"First"},{"value":"Fourth"},{"value":"Last"},{"value":"Second"},{"value":"Third"}]},"type":"string"},"name":"weeksOfTheMonth","type":"array<string>"}],"value":"ScheduleBasedBackupCriteria"}],"props":[{"enum":{"items":[{"value":"ScheduleBasedBackupCriteria"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},"name":"criteria","type":"array<object>"},{"name":"isDefault","required":true,"type":"boolean"},{"name":"tagInfo","required":true,"type":"@RetentionTag_read"},{"name":"taggingPriority","required":true,"type":"integer64"}],"type":"object"},"name":"taggingCriteria","required":true,"type":"array<object>"}],"value":"ScheduleBasedTriggerContext"}],"name":"trigger","props":[{"enum":{"items":[{"value":"AdhocBasedTriggerContext"},{"value":"ScheduleBasedTriggerContext"}]},"name":"objectType","required":true,"type":"string"}],"required":true,"type":"object"}],"value":"AzureBackupRule"},{"property":"objectType","props":[{"name":"isDefault","type":"boolean"},{"item":{"props":[{"discriminators":[{"property":"objectType","value":"AbsoluteDeleteOption"}],"name":"deleteAfter","props":[{"name":"duration","required":true,"type":"string"},{"enum":{"items":[{"value":"AbsoluteDeleteOption"}]},"name":"objectType","required":true,"type":"string"}],"required":true,"type":"object"},{"name":"sourceDataStore","required":true,"type":"@DataStoreInfoBase_read"},{"item":{"props":[{"discriminators":[{"property":"objectType","value":"CopyOnExpiryOption"},{"property":"objectType","props":[{"name":"duration","type":"string"}],"value":"CustomCopyOption"},{"property":"objectType","value":"ImmediateCopyOption"}],"name":"copyAfter","props":[{"enum":{"items":[{"value":"CopyOnExpiryOption"},{"value":"CustomCopyOption"},{"value":"ImmediateCopyOption"}]},"name":"objectType","required":true,"type":"string"}],"required":true,"type":"object"},{"name":"dataStore","required":true,"type":"@DataStoreInfoBase_read"}],"type":"object"},"name":"targetDataStoreCopySettings","type":"array<object>"}],"type":"object"},"name":"lifecycles","required":true,"type":"array<object>"}],"value":"AzureRetentionRule"}],"props":[{"name":"name","required":true,"type":"string"},{"enum":{"items":[{"value":"AzureBackupRule"},{"value":"AzureRetentionRule"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},"name":"policyRules","required":true,"type":"array<object>"}],"value":"BackupPolicy"}],"name":"properties","props":[{"item":{"type":"string"},"name":"datasourceTypes","required":true,"type":"array<string>"},{"enum":{"items":[{"value":"BackupPolicy"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},{"name":"systemData","props":[{"format":{"protocol":"iso"},"name":"createdAt","type":"dateTime"},{"name":"createdBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"createdByType","type":"string"},{"format":{"protocol":"iso"},"name":"lastModifiedAt","type":"dateTime"},{"name":"lastModifiedBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"lastModifiedByType","type":"string"}],"readOnly":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[200]},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"operationId":"BackupPolicies_CreateOrUpdate"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.dataprotection/backupvaults/{}/backuppolicies/{}","plane":"mgmt-plane"}]}