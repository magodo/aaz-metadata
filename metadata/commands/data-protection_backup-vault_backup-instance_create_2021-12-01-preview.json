{"argGroups":[{"args":[{"help":{"short":"The name of the backup instance"},"idPart":"child_name_1","options":["n","name","backup-instance-name"],"required":true,"type":"string","var":"$Path.backupInstanceName"},{"idPart":"resource_group","options":["g","resource-group"],"required":true,"type":"ResourceGroupName","var":"$Path.resourceGroupName"},{"idPart":"subscription","options":["subscription"],"required":true,"type":"SubscriptionId","var":"$Path.subscriptionId"},{"help":{"short":"The name of the backup vault."},"idPart":"name","options":["vault-name"],"required":true,"type":"string","var":"$Path.vaultName"}],"name":""},{"args":[{"args":[{"help":{"short":"DatasourceType of the resource."},"options":["datasource-type"],"type":"string","var":"$parameters.properties.dataSourceInfo.datasourceType"},{"help":{"short":"Type of Datasource object, used to initialize the right inherited type"},"options":["object-type"],"type":"string","var":"$parameters.properties.dataSourceInfo.objectType"},{"help":{"short":"Full ARM ID of the resource. For azure resources, this is ARM ID. For non azure resources, this will be the ID created by backup service via Fabric/Vault."},"options":["resource-id"],"required":true,"type":"string","var":"$parameters.properties.dataSourceInfo.resourceID"},{"help":{"short":"Location of datasource."},"options":["resource-location"],"type":"string","var":"$parameters.properties.dataSourceInfo.resourceLocation"},{"help":{"short":"Unique identifier of the resource in the context of parent."},"options":["resource-name"],"type":"string","var":"$parameters.properties.dataSourceInfo.resourceName"},{"help":{"short":"Resource Type of Datasource."},"options":["resource-type"],"type":"string","var":"$parameters.properties.dataSourceInfo.resourceType"},{"help":{"short":"Uri of the resource."},"options":["resource-uri"],"type":"string","var":"$parameters.properties.dataSourceInfo.resourceUri"}],"group":"Properties","help":{"short":"Gets or sets the data source information."},"options":["data-source-info"],"type":"object","var":"$parameters.properties.dataSourceInfo"},{"args":[{"help":{"short":"DatasourceType of the resource."},"options":["datasource-type"],"type":"string","var":"$parameters.properties.dataSourceSetInfo.datasourceType"},{"help":{"short":"Type of Datasource object, used to initialize the right inherited type"},"options":["object-type"],"type":"string","var":"$parameters.properties.dataSourceSetInfo.objectType"},{"help":{"short":"Full ARM ID of the resource. For azure resources, this is ARM ID. For non azure resources, this will be the ID created by backup service via Fabric/Vault."},"options":["resource-id"],"required":true,"type":"string","var":"$parameters.properties.dataSourceSetInfo.resourceID"},{"help":{"short":"Location of datasource."},"options":["resource-location"],"type":"string","var":"$parameters.properties.dataSourceSetInfo.resourceLocation"},{"help":{"short":"Unique identifier of the resource in the context of parent."},"options":["resource-name"],"type":"string","var":"$parameters.properties.dataSourceSetInfo.resourceName"},{"help":{"short":"Resource Type of Datasource."},"options":["resource-type"],"type":"string","var":"$parameters.properties.dataSourceSetInfo.resourceType"},{"help":{"short":"Uri of the resource."},"options":["resource-uri"],"type":"string","var":"$parameters.properties.dataSourceSetInfo.resourceUri"}],"group":"Properties","help":{"short":"Gets or sets the data source set information."},"options":["data-source-set-info"],"type":"object","var":"$parameters.properties.dataSourceSetInfo"},{"args":[{"args":[{"args":[{"enum":{"items":[{"name":"AzureKeyVault","value":"AzureKeyVault"},{"name":"Invalid","value":"Invalid"}]},"help":{"short":"Gets or sets the type of secret store"},"options":["secret-store-type"],"required":true,"type":"string","var":"$parameters.properties.datasourceAuthCredentials.SecretStoreBasedAuthCredentials.secretStoreResource.secretStoreType"},{"help":{"short":"Uri to get to the resource"},"options":["uri"],"type":"string","var":"$parameters.properties.datasourceAuthCredentials.SecretStoreBasedAuthCredentials.secretStoreResource.uri"}],"help":{"short":"Secret store resource"},"options":["secret-store-resource"],"type":"object","var":"$parameters.properties.datasourceAuthCredentials.SecretStoreBasedAuthCredentials.secretStoreResource"}],"options":["secret-store-based-auth-credentials"],"type":"object","var":"$parameters.properties.datasourceAuthCredentials.SecretStoreBasedAuthCredentials"}],"group":"Properties","help":{"short":"Credentials to use to authenticate with data source provider."},"options":["datasource-auth-credentials"],"type":"object","var":"$parameters.properties.datasourceAuthCredentials"},{"group":"Properties","help":{"short":"Gets or sets the Backup Instance friendly name."},"options":["friendly-name"],"type":"string","var":"$parameters.properties.friendlyName"},{"group":"Properties","options":["object-type"],"type":"string","var":"$parameters.properties.objectType"},{"args":[{"options":["policy-id"],"required":true,"type":"string","var":"$parameters.properties.policyInfo.policyId"},{"args":[{"help":{"short":"Gets or sets the DataStore Parameters"},"item":{"args":[{"args":[{"help":{"short":"Gets or sets the Snapshot Resource Group Uri."},"options":["resource-group-id"],"type":"string","var":"$parameters.properties.policyInfo.policyParameters.dataStoreParametersList[].AzureOperationalStoreParameters.resourceGroupId"}],"options":["azure-operational-store-parameters"],"type":"object","var":"$parameters.properties.policyInfo.policyParameters.dataStoreParametersList[].AzureOperationalStoreParameters"},{"enum":{"items":[{"name":"ArchiveStore","value":"ArchiveStore"},{"name":"OperationalStore","value":"OperationalStore"},{"name":"VaultStore","value":"VaultStore"}]},"help":{"short":"type of datastore; Operational/Vault/Archive"},"options":["data-store-type"],"required":true,"type":"string","var":"$parameters.properties.policyInfo.policyParameters.dataStoreParametersList[].dataStoreType"}],"type":"object"},"options":["data-store-parameters-list"],"type":"array<object>","var":"$parameters.properties.policyInfo.policyParameters.dataStoreParametersList"}],"help":{"short":"Policy parameters for the backup instance"},"options":["policy-parameters"],"type":"object","var":"$parameters.properties.policyInfo.policyParameters"}],"group":"Properties","help":{"short":"Gets or sets the policy information."},"options":["policy-info"],"type":"object","var":"$parameters.properties.policyInfo"}],"name":"Properties"}],"operations":[{"http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataProtection/backupVaults/{vaultName}/backupInstances/{backupInstanceName}","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"parameters","props":[{"name":"properties","props":[{"arg":"$parameters.properties.dataSourceInfo","name":"dataSourceInfo","props":[{"arg":"$parameters.properties.dataSourceInfo.datasourceType","name":"datasourceType","type":"string"},{"arg":"$parameters.properties.dataSourceInfo.objectType","name":"objectType","type":"string"},{"arg":"$parameters.properties.dataSourceInfo.resourceID","name":"resourceID","required":true,"type":"string"},{"arg":"$parameters.properties.dataSourceInfo.resourceLocation","name":"resourceLocation","type":"string"},{"arg":"$parameters.properties.dataSourceInfo.resourceName","name":"resourceName","type":"string"},{"arg":"$parameters.properties.dataSourceInfo.resourceType","name":"resourceType","type":"string"},{"arg":"$parameters.properties.dataSourceInfo.resourceUri","name":"resourceUri","type":"string"}],"required":true,"type":"object"},{"arg":"$parameters.properties.dataSourceSetInfo","name":"dataSourceSetInfo","props":[{"arg":"$parameters.properties.dataSourceSetInfo.datasourceType","name":"datasourceType","type":"string"},{"arg":"$parameters.properties.dataSourceSetInfo.objectType","name":"objectType","type":"string"},{"arg":"$parameters.properties.dataSourceSetInfo.resourceID","name":"resourceID","required":true,"type":"string"},{"arg":"$parameters.properties.dataSourceSetInfo.resourceLocation","name":"resourceLocation","type":"string"},{"arg":"$parameters.properties.dataSourceSetInfo.resourceName","name":"resourceName","type":"string"},{"arg":"$parameters.properties.dataSourceSetInfo.resourceType","name":"resourceType","type":"string"},{"arg":"$parameters.properties.dataSourceSetInfo.resourceUri","name":"resourceUri","type":"string"}],"type":"object"},{"arg":"$parameters.properties.datasourceAuthCredentials","discriminators":[{"property":"objectType","props":[{"arg":"$parameters.properties.datasourceAuthCredentials.SecretStoreBasedAuthCredentials.secretStoreResource","name":"secretStoreResource","props":[{"arg":"$parameters.properties.datasourceAuthCredentials.SecretStoreBasedAuthCredentials.secretStoreResource.secretStoreType","enum":{"items":[{"value":"AzureKeyVault"},{"value":"Invalid"}]},"name":"secretStoreType","required":true,"type":"string"},{"arg":"$parameters.properties.datasourceAuthCredentials.SecretStoreBasedAuthCredentials.secretStoreResource.uri","name":"uri","type":"string"}],"type":"object"}],"value":"SecretStoreBasedAuthCredentials"}],"name":"datasourceAuthCredentials","props":[{"enum":{"items":[{"arg":"$parameters.properties.datasourceAuthCredentials.SecretStoreBasedAuthCredentials","value":"SecretStoreBasedAuthCredentials"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},{"arg":"$parameters.properties.friendlyName","name":"friendlyName","type":"string"},{"arg":"$parameters.properties.objectType","name":"objectType","required":true,"type":"string"},{"arg":"$parameters.properties.policyInfo","name":"policyInfo","props":[{"arg":"$parameters.properties.policyInfo.policyId","name":"policyId","required":true,"type":"string"},{"arg":"$parameters.properties.policyInfo.policyParameters","name":"policyParameters","props":[{"arg":"$parameters.properties.policyInfo.policyParameters.dataStoreParametersList","item":{"discriminators":[{"property":"objectType","props":[{"arg":"$parameters.properties.policyInfo.policyParameters.dataStoreParametersList[].AzureOperationalStoreParameters.resourceGroupId","name":"resourceGroupId","type":"string"}],"value":"AzureOperationalStoreParameters"}],"props":[{"arg":"$parameters.properties.policyInfo.policyParameters.dataStoreParametersList[].dataStoreType","enum":{"items":[{"value":"ArchiveStore"},{"value":"OperationalStore"},{"value":"VaultStore"}]},"name":"dataStoreType","required":true,"type":"string"},{"enum":{"items":[{"arg":"$parameters.properties.policyInfo.policyParameters.dataStoreParametersList[].AzureOperationalStoreParameters","value":"AzureOperationalStoreParameters"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},"name":"dataStoreParametersList","type":"array<object>"}],"type":"object"}],"required":true,"type":"object"}],"type":"object"}],"required":true,"type":"object"}}},"method":"put","path":{"params":[{"arg":"$Path.backupInstanceName","name":"backupInstanceName","required":true,"type":"string"},{"arg":"$Path.resourceGroupName","name":"resourceGroupName","required":true,"type":"string"},{"arg":"$Path.subscriptionId","name":"subscriptionId","required":true,"type":"string"},{"arg":"$Path.vaultName","name":"vaultName","required":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2021-12-01-preview"},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.DataProtection/backupVaults/{}/backupInstances/{}"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"name","readOnly":true,"type":"string"},{"name":"properties","props":[{"enum":{"items":[{"value":"BackupSchedulesSuspended"},{"value":"ConfiguringProtection"},{"value":"ConfiguringProtectionFailed"},{"value":"Invalid"},{"value":"NotProtected"},{"value":"ProtectionConfigured"},{"value":"ProtectionError"},{"value":"ProtectionStopped"},{"value":"RetentionSchedulesSuspended"},{"value":"SoftDeleted"},{"value":"SoftDeleting"},{"value":"UpdatingProtection"}]},"name":"currentProtectionState","readOnly":true,"type":"string"},{"name":"dataSourceInfo","props":[{"name":"datasourceType","type":"string"},{"name":"objectType","type":"string"},{"name":"resourceID","required":true,"type":"string"},{"name":"resourceLocation","type":"string"},{"name":"resourceName","type":"string"},{"name":"resourceType","type":"string"},{"name":"resourceUri","type":"string"}],"required":true,"type":"object"},{"name":"dataSourceSetInfo","props":[{"name":"datasourceType","type":"string"},{"name":"objectType","type":"string"},{"name":"resourceID","required":true,"type":"string"},{"name":"resourceLocation","type":"string"},{"name":"resourceName","type":"string"},{"name":"resourceType","type":"string"},{"name":"resourceUri","type":"string"}],"type":"object"},{"discriminators":[{"property":"objectType","props":[{"name":"secretStoreResource","props":[{"enum":{"items":[{"value":"AzureKeyVault"},{"value":"Invalid"}]},"name":"secretStoreType","required":true,"type":"string"},{"name":"uri","type":"string"}],"type":"object"}],"value":"SecretStoreBasedAuthCredentials"}],"name":"datasourceAuthCredentials","props":[{"enum":{"items":[{"value":"SecretStoreBasedAuthCredentials"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},{"name":"friendlyName","type":"string"},{"name":"objectType","required":true,"type":"string"},{"name":"policyInfo","props":[{"name":"policyId","required":true,"type":"string"},{"name":"policyParameters","props":[{"item":{"discriminators":[{"property":"objectType","props":[{"name":"resourceGroupId","type":"string"}],"value":"AzureOperationalStoreParameters"}],"props":[{"enum":{"items":[{"value":"ArchiveStore"},{"value":"OperationalStore"},{"value":"VaultStore"}]},"name":"dataStoreType","required":true,"type":"string"},{"enum":{"items":[{"value":"AzureOperationalStoreParameters"}]},"name":"objectType","required":true,"type":"string"}],"type":"object"},"name":"dataStoreParametersList","type":"array<object>"}],"type":"object"},{"name":"policyVersion","readOnly":true,"type":"string"}],"required":true,"type":"object"},{"name":"protectionErrorDetails","readOnly":true,"type":"@UserFacingError_read"},{"name":"protectionStatus","props":[{"cls":"UserFacingError_read","name":"errorDetails","props":[{"name":"code","type":"string"},{"item":{"type":"@UserFacingError_read"},"name":"details","type":"array<@UserFacingError_read>"},{"cls":"InnerError_read","name":"innerError","props":[{"additionalProps":{"item":{"type":"string"}},"name":"additionalInfo","type":"object"},{"name":"code","type":"string"},{"name":"embeddedInnerError","type":"@InnerError_read"}],"type":"object"},{"name":"isRetryable","type":"boolean"},{"name":"isUserError","type":"boolean"},{"name":"message","type":"string"},{"additionalProps":{"item":{"type":"string"}},"name":"properties","type":"object"},{"item":{"type":"string"},"name":"recommendedAction","type":"array<string>"},{"name":"target","type":"string"}],"type":"object"},{"enum":{"items":[{"value":"ConfiguringProtection"},{"value":"ConfiguringProtectionFailed"},{"value":"ProtectionConfigured"},{"value":"ProtectionStopped"},{"value":"SoftDeleted"},{"value":"SoftDeleting"}]},"name":"status","type":"string"}],"readOnly":true,"type":"object"},{"name":"provisioningState","readOnly":true,"type":"string"}],"type":"object"},{"name":"systemData","props":[{"format":{"protocol":"iso"},"name":"createdAt","type":"dateTime"},{"name":"createdBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"createdByType","type":"string"},{"format":{"protocol":"iso"},"name":"lastModifiedAt","type":"dateTime"},{"name":"lastModifiedBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"lastModifiedByType","type":"string"}],"readOnly":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[200,201]},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"longRunning":{"finalStateVia":"azure-async-operation"},"operationId":"BackupInstances_CreateOrUpdate"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.dataprotection/backupvaults/{}/backupinstances/{}","plane":"mgmt-plane"}]}