{"argGroups":[{"args":[{"help":{"short":"The fully qualified Azure Resource manager identifier of the resource."},"options":["resource-uri"],"required":true,"type":"string","var":"$Path.resourceUri"}],"name":""},{"args":[{"args":[{"enum":{"items":[{"name":"SystemAssigned","value":"SystemAssigned"}]},"help":{"short":"The identity type."},"options":["type"],"type":"string","var":"$properties.identity.type"}],"group":"Properties","help":{"short":"Identity for the resource."},"options":["identity"],"type":"object","var":"$properties.identity"},{"args":[{"help":{"short":"RAM in MB for the virtual machine instance"},"options":["memory-mb"],"type":"integer64","var":"$properties.properties.hardwareProfile.memoryMB"},{"help":{"short":"number of processors for the virtual machine instance"},"options":["processors"],"type":"integer32","var":"$properties.properties.hardwareProfile.processors"},{"help":{"short":"virtualMachineGPUs - updated list of GPUs on the virtual machine instance"},"item":{"args":[{"enum":{"items":[{"name":"GpuDDA","value":"GpuDDA"},{"name":"GpuP","value":"GpuP"}]},"help":{"short":"GPU assignment type"},"options":["assignment-type"],"required":true,"type":"string","var":"$properties.properties.hardwareProfile.virtualMachineGPUs[].assignmentType"},{"help":{"short":"Name of the GPU"},"options":["gpu-name"],"type":"string","var":"$properties.properties.hardwareProfile.virtualMachineGPUs[].gpuName"},{"help":{"short":"Size of gpu partition in MB for GPU-P"},"options":["partition-size-mb"],"type":"integer64","var":"$properties.properties.hardwareProfile.virtualMachineGPUs[].partitionSizeMB"}],"type":"object"},"options":["virtual-machine-gp-us"],"type":"array<object>","var":"$properties.properties.hardwareProfile.virtualMachineGPUs"},{"enum":{"items":[{"name":"Custom","value":"Custom"},{"name":"Default","value":"Default"},{"name":"Standard_A2_v2","value":"Standard_A2_v2"},{"name":"Standard_A4_v2","value":"Standard_A4_v2"},{"name":"Standard_D16s_v3","value":"Standard_D16s_v3"},{"name":"Standard_D2s_v3","value":"Standard_D2s_v3"},{"name":"Standard_D32s_v3","value":"Standard_D32s_v3"},{"name":"Standard_D4s_v3","value":"Standard_D4s_v3"},{"name":"Standard_D8s_v3","value":"Standard_D8s_v3"},{"name":"Standard_DS13_v2","value":"Standard_DS13_v2"},{"name":"Standard_DS2_v2","value":"Standard_DS2_v2"},{"name":"Standard_DS3_v2","value":"Standard_DS3_v2"},{"name":"Standard_DS4_v2","value":"Standard_DS4_v2"},{"name":"Standard_DS5_v2","value":"Standard_DS5_v2"},{"name":"Standard_K8S2_v1","value":"Standard_K8S2_v1"},{"name":"Standard_K8S3_v1","value":"Standard_K8S3_v1"},{"name":"Standard_K8S4_v1","value":"Standard_K8S4_v1"},{"name":"Standard_K8S5_v1","value":"Standard_K8S5_v1"},{"name":"Standard_K8S_v1","value":"Standard_K8S_v1"},{"name":"Standard_NK12","value":"Standard_NK12"},{"name":"Standard_NK6","value":"Standard_NK6"},{"name":"Standard_NV12","value":"Standard_NV12"},{"name":"Standard_NV6","value":"Standard_NV6"}]},"help":{"short":"VM Size Enum"},"options":["vm-size"],"type":"string","var":"$properties.properties.hardwareProfile.vmSize"}],"group":"Properties","help":{"short":"HardwareProfile - Specifies the hardware settings for the virtual machine instance."},"options":["hardware-profile"],"type":"object","var":"$properties.properties.hardwareProfile"},{"args":[{"help":{"short":"NetworkInterfaces - list of network interfaces to be attached to the virtual machine instance"},"item":{"args":[{"help":{"short":"The ARM ID for a Network Interface."},"options":["id"],"type":"ResourceId","var":"$properties.properties.networkProfile.networkInterfaces[].id"}],"type":"object"},"options":["network-interfaces"],"type":"array<object>","var":"$properties.properties.networkProfile.networkInterfaces"}],"group":"Properties","help":{"short":"NetworkProfile - describes the network update configuration the virtual machine instance"},"options":["network-profile"],"type":"object","var":"$properties.properties.networkProfile"},{"args":[{"help":{"short":"ComputerName - name of the computer"},"options":["computer-name"],"type":"string","var":"$properties.properties.osProfile.computerName"},{"args":[{"help":{"short":"Used to indicate whether Arc for Servers agent onboarding should be triggered during the virtual machine instance creation process."},"options":["provision-vm-agent"],"type":"boolean","var":"$properties.properties.osProfile.linuxConfiguration.provisionVMAgent"},{"help":{"short":"Used to indicate whether the VM Config Agent should be installed during the virtual machine creation process."},"options":["provision-vm-config-agent"],"type":"boolean","var":"$properties.properties.osProfile.linuxConfiguration.provisionVMConfigAgent"}],"help":{"short":"Linux configuration properties"},"options":["linux-configuration"],"type":"object","var":"$properties.properties.osProfile.linuxConfiguration"},{"args":[{"help":{"short":"Used to indicate whether Arc for Servers agent onboarding should be triggered during the virtual machine instance creation process."},"options":["provision-vm-agent"],"type":"boolean","var":"$properties.properties.osProfile.windowsConfiguration.provisionVMAgent"},{"help":{"short":"Used to indicate whether the VM Config Agent should be installed during the virtual machine creation process."},"options":["provision-vm-config-agent"],"type":"boolean","var":"$properties.properties.osProfile.windowsConfiguration.provisionVMConfigAgent"}],"help":{"short":"Windows configuration properties"},"options":["windows-configuration"],"type":"object","var":"$properties.properties.osProfile.windowsConfiguration"}],"group":"Properties","help":{"short":"OsProfile - describes the update configuration of the operating system"},"options":["os-profile"],"type":"object","var":"$properties.properties.osProfile"},{"args":[{"help":{"short":"adds data disks to the virtual machine instance for the update call"},"item":{"args":[{"help":{"short":"The ARM ID for a Virtual Hard Disk."},"options":["id"],"type":"ResourceId","var":"$properties.properties.storageProfile.dataDisks[].id"}],"type":"object"},"options":["data-disks"],"type":"array<object>","var":"$properties.properties.storageProfile.dataDisks"}],"group":"Properties","help":{"short":"StorageProfile - Specifies the storage settings for the virtual machine instance."},"options":["storage-profile"],"type":"object","var":"$properties.properties.storageProfile"}],"name":"Properties"}],"operations":[{"http":{"path":"/{resourceUri}/providers/Microsoft.AzureStackHCI/virtualMachineInstances/default","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"properties","props":[{"arg":"$properties.identity","name":"identity","props":[{"arg":"$properties.identity.type","enum":{"items":[{"value":"SystemAssigned"}]},"name":"type","type":"string"}],"type":"object"},{"name":"properties","props":[{"arg":"$properties.properties.hardwareProfile","name":"hardwareProfile","props":[{"arg":"$properties.properties.hardwareProfile.memoryMB","name":"memoryMB","type":"integer64"},{"arg":"$properties.properties.hardwareProfile.processors","name":"processors","type":"integer32"},{"arg":"$properties.properties.hardwareProfile.virtualMachineGPUs","item":{"props":[{"arg":"$properties.properties.hardwareProfile.virtualMachineGPUs[].assignmentType","enum":{"items":[{"value":"GpuDDA"},{"value":"GpuP"}]},"name":"assignmentType","required":true,"type":"string"},{"arg":"$properties.properties.hardwareProfile.virtualMachineGPUs[].gpuName","name":"gpuName","type":"string"},{"arg":"$properties.properties.hardwareProfile.virtualMachineGPUs[].partitionSizeMB","name":"partitionSizeMB","type":"integer64"}],"type":"object"},"name":"virtualMachineGPUs","type":"array<object>"},{"arg":"$properties.properties.hardwareProfile.vmSize","enum":{"items":[{"value":"Custom"},{"value":"Default"},{"value":"Standard_A2_v2"},{"value":"Standard_A4_v2"},{"value":"Standard_D16s_v3"},{"value":"Standard_D2s_v3"},{"value":"Standard_D32s_v3"},{"value":"Standard_D4s_v3"},{"value":"Standard_D8s_v3"},{"value":"Standard_DS13_v2"},{"value":"Standard_DS2_v2"},{"value":"Standard_DS3_v2"},{"value":"Standard_DS4_v2"},{"value":"Standard_DS5_v2"},{"value":"Standard_K8S2_v1"},{"value":"Standard_K8S3_v1"},{"value":"Standard_K8S4_v1"},{"value":"Standard_K8S5_v1"},{"value":"Standard_K8S_v1"},{"value":"Standard_NK12"},{"value":"Standard_NK6"},{"value":"Standard_NV12"},{"value":"Standard_NV6"}]},"name":"vmSize","type":"string"}],"type":"object"},{"arg":"$properties.properties.networkProfile","name":"networkProfile","props":[{"arg":"$properties.properties.networkProfile.networkInterfaces","item":{"props":[{"arg":"$properties.properties.networkProfile.networkInterfaces[].id","name":"id","type":"ResourceId"}],"type":"object"},"name":"networkInterfaces","type":"array<object>"}],"type":"object"},{"arg":"$properties.properties.osProfile","name":"osProfile","props":[{"arg":"$properties.properties.osProfile.computerName","name":"computerName","type":"string"},{"arg":"$properties.properties.osProfile.linuxConfiguration","name":"linuxConfiguration","props":[{"arg":"$properties.properties.osProfile.linuxConfiguration.provisionVMAgent","name":"provisionVMAgent","type":"boolean"},{"arg":"$properties.properties.osProfile.linuxConfiguration.provisionVMConfigAgent","name":"provisionVMConfigAgent","type":"boolean"}],"type":"object"},{"arg":"$properties.properties.osProfile.windowsConfiguration","name":"windowsConfiguration","props":[{"arg":"$properties.properties.osProfile.windowsConfiguration.provisionVMAgent","name":"provisionVMAgent","type":"boolean"},{"arg":"$properties.properties.osProfile.windowsConfiguration.provisionVMConfigAgent","name":"provisionVMConfigAgent","type":"boolean"}],"type":"object"}],"type":"object"},{"arg":"$properties.properties.storageProfile","name":"storageProfile","props":[{"arg":"$properties.properties.storageProfile.dataDisks","item":{"props":[{"arg":"$properties.properties.storageProfile.dataDisks[].id","name":"id","type":"ResourceId"}],"type":"object"},"name":"dataDisks","type":"array<object>"}],"type":"object"}],"type":"object"}],"required":true,"type":"object"}}},"method":"patch","path":{"params":[{"arg":"$Path.resourceUri","name":"resourceUri","required":true,"skipUrlEncoding":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2025-04-01-preview"},"format":{"minLength":1},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"name":"extendedLocation","props":[{"name":"name","type":"string"},{"enum":{"items":[{"value":"CustomLocation"}]},"name":"type","type":"string"}],"type":"object"},{"format":{"template":"/{resourceUri}/providers/Microsoft.AzureStackHCI/virtualMachineInstances/default"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"identity","props":[{"name":"principalId","readOnly":true,"type":"uuid"},{"name":"tenantId","readOnly":true,"type":"uuid"},{"enum":{"items":[{"value":"None"},{"value":"SystemAssigned"},{"value":"SystemAssigned,UserAssigned"},{"value":"UserAssigned"}]},"name":"type","required":true,"type":"string"},{"additionalProps":{"item":{"nullable":true,"props":[{"name":"clientId","readOnly":true,"type":"uuid"},{"name":"principalId","readOnly":true,"type":"uuid"}],"type":"object"}},"name":"userAssignedIdentities","type":"object"}],"type":"IdentityObject"},{"name":"name","readOnly":true,"type":"string"},{"clientFlatten":true,"name":"properties","props":[{"default":{"value":false},"name":"createFromLocal","type":"boolean"},{"name":"guestAgentInstallStatus","props":[{"name":"agentVersion","readOnly":true,"type":"string"},{"item":{"cls":"ErrorDetail_read","props":[{"item":{"props":[{"additionalProps":{"item":{"type":"any"},"readOnly":true},"name":"info","readOnly":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"name":"additionalInfo","readOnly":true,"type":"array<object>"},{"name":"code","readOnly":true,"type":"string"},{"identifiers":["target","message"],"item":{"type":"@ErrorDetail_read"},"name":"details","readOnly":true,"type":"array<@ErrorDetail_read>"},{"name":"message","readOnly":true,"type":"string"},{"name":"target","readOnly":true,"type":"string"}],"type":"object"},"name":"errorDetails","readOnly":true,"type":"array<object>"},{"format":{"protocol":"iso"},"name":"lastStatusChange","readOnly":true,"type":"dateTime"},{"enum":{"items":[{"value":"Failed"},{"value":"InProgress"},{"value":"Succeeded"}]},"name":"status","readOnly":true,"type":"string"},{"name":"vmUuid","readOnly":true,"type":"string"}],"type":"object"},{"name":"hardwareProfile","props":[{"name":"dynamicMemoryConfig","props":[{"name":"maximumMemoryMB","type":"integer64"},{"name":"minimumMemoryMB","type":"integer64"},{"name":"targetMemoryBuffer","type":"integer32"}],"type":"object"},{"name":"memoryMB","type":"integer64"},{"name":"processors","type":"integer32"},{"item":{"props":[{"enum":{"items":[{"value":"GpuDDA"},{"value":"GpuP"}]},"name":"assignmentType","required":true,"type":"string"},{"name":"gpuName","type":"string"},{"name":"partitionSizeMB","type":"integer64"}],"type":"object"},"name":"virtualMachineGPUs","type":"array<object>"},{"default":{"value":"Default"},"enum":{"items":[{"value":"Custom"},{"value":"Default"},{"value":"Standard_A2_v2"},{"value":"Standard_A4_v2"},{"value":"Standard_D16s_v3"},{"value":"Standard_D2s_v3"},{"value":"Standard_D32s_v3"},{"value":"Standard_D4s_v3"},{"value":"Standard_D8s_v3"},{"value":"Standard_DS13_v2"},{"value":"Standard_DS2_v2"},{"value":"Standard_DS3_v2"},{"value":"Standard_DS4_v2"},{"value":"Standard_DS5_v2"},{"value":"Standard_K8S2_v1"},{"value":"Standard_K8S3_v1"},{"value":"Standard_K8S4_v1"},{"value":"Standard_K8S5_v1"},{"value":"Standard_K8S_v1"},{"value":"Standard_NK12"},{"value":"Standard_NK6"},{"value":"Standard_NV12"},{"value":"Standard_NV6"}]},"name":"vmSize","type":"string"}],"type":"object"},{"name":"hostNodeName","readOnly":true,"type":"string"},{"name":"httpProxyConfig","props":[{"name":"httpProxy","secret":true,"type":"password"},{"name":"httpsProxy","secret":true,"type":"password"},{"item":{"type":"string"},"name":"noProxy","type":"array<string>"},{"name":"trustedCa","type":"string"}],"type":"object"},{"name":"hyperVVmId","readOnly":true,"type":"string"},{"name":"instanceView","props":[{"name":"vmAgent","props":[{"item":{"props":[{"name":"code","type":"string"},{"name":"displayStatus","type":"string"},{"enum":{"items":[{"value":"Error"},{"value":"Info"},{"value":"Warning"}]},"name":"level","type":"string"},{"name":"message","type":"string"},{"format":{"protocol":"iso"},"name":"time","type":"dateTime"}],"type":"object"},"name":"statuses","type":"array<object>"},{"name":"vmConfigAgentVersion","type":"string"}],"type":"object"}],"readOnly":true,"type":"object"},{"name":"networkProfile","props":[{"item":{"props":[{"name":"id","type":"ResourceId"}],"type":"object"},"name":"networkInterfaces","type":"array<object>"}],"type":"object"},{"name":"osProfile","props":[{"name":"adminUsername","type":"string"},{"name":"computerName","type":"string"},{"name":"linuxConfiguration","props":[{"name":"disablePasswordAuthentication","type":"boolean"},{"default":{"value":true},"name":"provisionVMAgent","type":"boolean"},{"default":{"value":true},"name":"provisionVMConfigAgent","type":"boolean"},{"cls":"SshConfiguration_read","name":"ssh","props":[{"identifiers":["path"],"item":{"props":[{"name":"keyData","type":"string"},{"name":"path","type":"string"}],"type":"object"},"name":"publicKeys","type":"array<object>"}],"type":"object"}],"type":"object"},{"name":"windowsConfiguration","props":[{"name":"enableAutomaticUpdates","type":"boolean"},{"default":{"value":true},"name":"provisionVMAgent","type":"boolean"},{"default":{"value":true},"name":"provisionVMConfigAgent","type":"boolean"},{"name":"ssh","type":"@SshConfiguration_read"},{"name":"timeZone","type":"string"}],"type":"object"}],"type":"object"},{"name":"placementProfile","props":[{"name":"strictPlacementPolicy","type":"boolean"},{"name":"zone","type":"string"}],"type":"object"},{"enum":{"items":[{"value":"Accepted"},{"value":"Canceled"},{"value":"Deleting"},{"value":"Failed"},{"value":"InProgress"},{"value":"Succeeded"}]},"name":"provisioningState","readOnly":true,"type":"string"},{"name":"resourceUid","type":"string"},{"name":"securityProfile","props":[{"default":{"value":false},"name":"enableTPM","type":"boolean"},{"enum":{"items":[{"value":"ConfidentialVM"},{"value":"TrustedLaunch"}]},"name":"securityType","type":"string"},{"name":"uefiSettings","props":[{"default":{"value":false},"name":"secureBootEnabled","type":"boolean"}],"type":"object"}],"type":"object"},{"name":"status","props":[{"name":"errorCode","type":"string"},{"name":"errorMessage","type":"string"},{"enum":{"items":[{"value":"Deallocated"},{"value":"Deallocating"},{"value":"Paused"},{"value":"Running"},{"value":"Saved"},{"value":"Starting"},{"value":"Stopped"},{"value":"Stopping"},{"value":"Unknown"}]},"name":"powerState","type":"string"},{"name":"provisioningStatus","props":[{"name":"operationId","type":"string"},{"enum":{"items":[{"value":"Failed"},{"value":"InProgress"},{"value":"Succeeded"}]},"name":"status","readOnly":true,"type":"string"}],"type":"object"}],"readOnly":true,"type":"object"},{"name":"storageProfile","props":[{"item":{"props":[{"name":"id","type":"ResourceId"}],"type":"object"},"name":"dataDisks","type":"array<object>"},{"name":"imageReference","props":[{"name":"id","type":"ResourceId"}],"type":"object"},{"name":"osDisk","props":[{"name":"id","type":"ResourceId"},{"name":"managedDisk","props":[{"name":"securityProfile","props":[{"enum":{"items":[{"value":"NonPersistedTPM"}]},"name":"securityEncryptionType","type":"string"}],"type":"object"}],"type":"object"},{"enum":{"items":[{"value":"Linux"},{"value":"Windows"}]},"name":"osType","type":"string"}],"type":"object"},{"name":"vmConfigStoragePathId","type":"ResourceId"}],"type":"object"},{"name":"vmId","readOnly":true,"type":"string"}],"type":"object"},{"name":"systemData","props":[{"format":{"protocol":"iso"},"name":"createdAt","type":"dateTime"},{"name":"createdBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"createdByType","type":"string"},{"format":{"protocol":"iso"},"name":"lastModifiedAt","type":"dateTime"},{"name":"lastModifiedBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"lastModifiedByType","type":"string"}],"readOnly":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[200]},{"header":{"items":[{"name":"Location"},{"name":"Retry-After"}]},"statusCode":[202]},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"longRunning":{"finalStateVia":"location"},"operationId":"VirtualMachineInstances_Update"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/{resourceuri}/providers/microsoft.azurestackhci/virtualmachineinstances/default","plane":"mgmt-plane"}]}