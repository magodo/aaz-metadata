{"argGroups":[{"args":[{"options":["x-ms-authorization-auxiliary"],"type":"string","var":"$Header.x-ms-authorization-auxiliary"},{"idPart":"resource_group","options":["g","resource-group"],"required":true,"type":"ResourceGroupName","var":"$Path.resourceGroupName"},{"idPart":"subscription","options":["subscription"],"required":true,"type":"SubscriptionId","var":"$Path.subscriptionId"},{"help":{"short":"The name of the backup vault."},"idPart":"name","options":["n","name","vault-name"],"required":true,"type":"string","var":"$Path.vaultName"}],"name":""},{"args":[{"blank":{"value":"True"},"group":"Identity","help":{"short":"Set the system managed identity."},"options":["system-assigned","mi-system-assigned"],"type":"string","var":"$parameters.identity.systemAssigned"},{"group":"Identity","help":{"short":"The identityType which can be either SystemAssigned, UserAssigned, 'SystemAssigned,UserAssigned' or None"},"hide":true,"options":["type"],"type":"string","var":"$parameters.identity.type"},{"blank":{"value":[]},"group":"Identity","help":{"short":"Set the user managed identities."},"item":{"type":"string"},"options":["user-assigned","mi-user-assigned"],"type":"array<string>","var":"$parameters.identity.userAssigned"},{"additionalProps":{"item":{"blank":{"value":{}},"type":"object"}},"group":"Identity","help":{"short":"Gets or sets the user assigned identities."},"hide":true,"options":["user-assigned-identities"],"type":"object","var":"$parameters.identity.userAssignedIdentities"}],"name":"Identity"},{"args":[{"additionalProps":{"item":{"type":"string"}},"group":"Parameters","help":{"short":"Resource tags."},"options":["tags"],"type":"object","var":"$parameters.tags"}],"name":"Parameters"},{"args":[{"args":[{"args":[{"enum":{"items":[{"name":"Disabled","value":"Disabled"},{"name":"Enabled","value":"Enabled"}]},"help":{"short":"CrossRegionRestore state"},"options":["state"],"type":"string","var":"$parameters.properties.featureSettings.crossRegionRestoreSettings.state"}],"options":["cross-region-restore-settings"],"type":"object","var":"$parameters.properties.featureSettings.crossRegionRestoreSettings"},{"args":[{"enum":{"items":[{"name":"Disabled","value":"Disabled"},{"name":"Enabled","value":"Enabled"},{"name":"PermanentlyDisabled","value":"PermanentlyDisabled"}]},"help":{"short":"CrossSubscriptionRestore state"},"options":["state"],"type":"string","var":"$parameters.properties.featureSettings.crossSubscriptionRestoreSettings.state"}],"help":{"short":"CrossSubscriptionRestore Settings"},"options":["cross-subscription-restore-settings"],"type":"object","var":"$parameters.properties.featureSettings.crossSubscriptionRestoreSettings"}],"group":"Properties","help":{"short":"Feature Settings"},"options":["feature-settings"],"type":"object","var":"$parameters.properties.featureSettings"},{"args":[{"args":[{"enum":{"items":[{"name":"Disabled","value":"Disabled"},{"name":"Enabled","value":"Enabled"}]},"options":["alerts-for-all-job-failures"],"type":"string","var":"$parameters.properties.monitoringSettings.azureMonitorAlertSettings.alertsForAllJobFailures"}],"help":{"short":"Settings for Azure Monitor based alerts"},"options":["azure-monitor-alert-settings"],"type":"object","var":"$parameters.properties.monitoringSettings.azureMonitorAlertSettings"}],"group":"Properties","help":{"short":"Monitoring Settings"},"options":["monitoring-settings"],"type":"object","var":"$parameters.properties.monitoringSettings"},{"group":"Properties","help":{"short":"ResourceGuardOperationRequests on which LAC check will be performed"},"item":{"type":"string"},"options":["resource-guard-operation-requests"],"type":"array<string>","var":"$parameters.properties.resourceGuardOperationRequests"},{"args":[{"args":[{"enum":{"items":[{"name":"Disabled","value":"Disabled"},{"name":"Enabled","value":"Enabled"}]},"help":{"short":"Enabling/Disabling the Double Encryption state"},"options":["infrastructure-encryption"],"type":"string","var":"$parameters.properties.securitySettings.encryptionSettings.infrastructureEncryption"},{"args":[{"help":{"short":"The managed identity to be used which has access permissions to the Key Vault. Provide a value here in case identity types: 'UserAssigned' only."},"options":["identity-id"],"type":"string","var":"$parameters.properties.securitySettings.encryptionSettings.kekIdentity.identityId"},{"enum":{"items":[{"name":"SystemAssigned","value":"SystemAssigned"},{"name":"UserAssigned","value":"UserAssigned"}]},"help":{"short":"The identity type. 'SystemAssigned' and 'UserAssigned' are mutually exclusive. 'SystemAssigned' will use implicitly created managed identity."},"options":["identity-type"],"type":"string","var":"$parameters.properties.securitySettings.encryptionSettings.kekIdentity.identityType"}],"help":{"short":"The details of the managed identity used for CMK"},"options":["kek-identity"],"type":"object","var":"$parameters.properties.securitySettings.encryptionSettings.kekIdentity"},{"args":[{"help":{"short":"The key uri of the Customer Managed Key"},"options":["key-uri"],"type":"string","var":"$parameters.properties.securitySettings.encryptionSettings.keyVaultProperties.keyUri"}],"help":{"short":"The properties of the Key Vault which hosts CMK"},"options":["key-vault-properties"],"type":"object","var":"$parameters.properties.securitySettings.encryptionSettings.keyVaultProperties"},{"enum":{"items":[{"name":"Disabled","value":"Disabled"},{"name":"Enabled","value":"Enabled"},{"name":"Inconsistent","value":"Inconsistent"}]},"help":{"short":"Encryption state of the Backup Vault."},"options":["state"],"type":"string","var":"$parameters.properties.securitySettings.encryptionSettings.state"}],"help":{"short":"Customer Managed Key details of the resource."},"options":["encryption-settings"],"type":"object","var":"$parameters.properties.securitySettings.encryptionSettings"},{"args":[{"enum":{"items":[{"name":"Disabled","value":"Disabled"},{"name":"Locked","value":"Locked"},{"name":"Unlocked","value":"Unlocked"}]},"help":{"short":"Immutability state"},"options":["state"],"type":"string","var":"$parameters.properties.securitySettings.immutabilitySettings.state"}],"help":{"short":"Immutability Settings at vault level"},"options":["immutability-settings"],"type":"object","var":"$parameters.properties.securitySettings.immutabilitySettings"},{"args":[{"help":{"short":"Soft delete retention duration"},"options":["retention-duration-in-days"],"type":"float64","var":"$parameters.properties.securitySettings.softDeleteSettings.retentionDurationInDays"},{"enum":{"items":[{"name":"AlwaysOn","value":"AlwaysOn"},{"name":"Off","value":"Off"},{"name":"On","value":"On"}]},"help":{"short":"State of soft delete"},"options":["state"],"type":"string","var":"$parameters.properties.securitySettings.softDeleteSettings.state"}],"help":{"short":"Soft delete related settings"},"options":["soft-delete-settings"],"type":"object","var":"$parameters.properties.securitySettings.softDeleteSettings"}],"group":"Properties","help":{"short":"Security Settings"},"options":["security-settings"],"type":"object","var":"$parameters.properties.securitySettings"}],"name":"Properties"}],"operations":[{"http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataProtection/backupVaults/{vaultName}","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"parameters","props":[{"name":"identity","props":[{"arg":"$parameters.identity.type","name":"type","type":"string"},{"additionalProps":{"item":{"type":"object"}},"arg":"$parameters.identity.userAssignedIdentities","name":"userAssignedIdentities","type":"object"}],"systemAssigned":{"action":"create","arg":"$parameters.identity.systemAssigned","name":"systemAssigned","type":"string"},"type":"IdentityObject","userAssigned":{"action":"create","arg":"$parameters.identity.userAssigned","item":{"action":"create","type":"string"},"name":"userAssigned","type":"array<string>"}},{"name":"properties","props":[{"arg":"$parameters.properties.featureSettings","name":"featureSettings","props":[{"arg":"$parameters.properties.featureSettings.crossRegionRestoreSettings","name":"crossRegionRestoreSettings","props":[{"arg":"$parameters.properties.featureSettings.crossRegionRestoreSettings.state","enum":{"items":[{"value":"Disabled"},{"value":"Enabled"}]},"name":"state","type":"string"}],"type":"object"},{"arg":"$parameters.properties.featureSettings.crossSubscriptionRestoreSettings","name":"crossSubscriptionRestoreSettings","props":[{"arg":"$parameters.properties.featureSettings.crossSubscriptionRestoreSettings.state","enum":{"items":[{"value":"Disabled"},{"value":"Enabled"},{"value":"PermanentlyDisabled"}]},"name":"state","type":"string"}],"type":"object"}],"type":"object"},{"arg":"$parameters.properties.monitoringSettings","name":"monitoringSettings","props":[{"arg":"$parameters.properties.monitoringSettings.azureMonitorAlertSettings","name":"azureMonitorAlertSettings","props":[{"arg":"$parameters.properties.monitoringSettings.azureMonitorAlertSettings.alertsForAllJobFailures","enum":{"items":[{"value":"Disabled"},{"value":"Enabled"}]},"name":"alertsForAllJobFailures","type":"string"}],"type":"object"}],"type":"object"},{"arg":"$parameters.properties.resourceGuardOperationRequests","item":{"type":"string"},"name":"resourceGuardOperationRequests","type":"array<string>"},{"arg":"$parameters.properties.securitySettings","name":"securitySettings","props":[{"arg":"$parameters.properties.securitySettings.encryptionSettings","name":"encryptionSettings","props":[{"arg":"$parameters.properties.securitySettings.encryptionSettings.infrastructureEncryption","enum":{"items":[{"value":"Disabled"},{"value":"Enabled"}]},"name":"infrastructureEncryption","type":"string"},{"arg":"$parameters.properties.securitySettings.encryptionSettings.kekIdentity","name":"kekIdentity","props":[{"arg":"$parameters.properties.securitySettings.encryptionSettings.kekIdentity.identityId","name":"identityId","type":"string"},{"arg":"$parameters.properties.securitySettings.encryptionSettings.kekIdentity.identityType","enum":{"items":[{"value":"SystemAssigned"},{"value":"UserAssigned"}]},"name":"identityType","type":"string"}],"type":"object"},{"arg":"$parameters.properties.securitySettings.encryptionSettings.keyVaultProperties","name":"keyVaultProperties","props":[{"arg":"$parameters.properties.securitySettings.encryptionSettings.keyVaultProperties.keyUri","name":"keyUri","type":"string"}],"type":"object"},{"arg":"$parameters.properties.securitySettings.encryptionSettings.state","enum":{"items":[{"value":"Disabled"},{"value":"Enabled"},{"value":"Inconsistent"}]},"name":"state","type":"string"}],"type":"object"},{"arg":"$parameters.properties.securitySettings.immutabilitySettings","name":"immutabilitySettings","props":[{"arg":"$parameters.properties.securitySettings.immutabilitySettings.state","enum":{"items":[{"value":"Disabled"},{"value":"Locked"},{"value":"Unlocked"}]},"name":"state","type":"string"}],"type":"object"},{"arg":"$parameters.properties.securitySettings.softDeleteSettings","name":"softDeleteSettings","props":[{"arg":"$parameters.properties.securitySettings.softDeleteSettings.retentionDurationInDays","name":"retentionDurationInDays","type":"float64"},{"arg":"$parameters.properties.securitySettings.softDeleteSettings.state","enum":{"items":[{"value":"AlwaysOn"},{"value":"Off"},{"value":"On"}]},"name":"state","type":"string"}],"type":"object"}],"type":"object"}],"type":"object"},{"additionalProps":{"item":{"type":"string"}},"arg":"$parameters.tags","name":"tags","type":"object"}],"required":true,"type":"object"}}},"header":{"params":[{"arg":"$Header.x-ms-authorization-auxiliary","name":"x-ms-authorization-auxiliary","type":"string"}]},"method":"patch","path":{"params":[{"arg":"$Path.resourceGroupName","format":{"maxLength":90,"minLength":1},"name":"resourceGroupName","required":true,"type":"string"},{"arg":"$Path.subscriptionId","name":"subscriptionId","required":true,"type":"uuid"},{"arg":"$Path.vaultName","name":"vaultName","required":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2025-02-01"},"format":{"minLength":1},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"name":"eTag","type":"string"},{"name":"id","readOnly":true,"type":"ResourceId"},{"name":"identity","props":[{"name":"principalId","readOnly":true,"type":"string"},{"name":"tenantId","readOnly":true,"type":"string"},{"name":"type","type":"string"},{"additionalProps":{"item":{"props":[{"name":"clientId","readOnly":true,"type":"uuid"},{"name":"principalId","readOnly":true,"type":"uuid"}],"type":"object"}},"name":"userAssignedIdentities","type":"object"}],"type":"IdentityObject"},{"name":"location","required":true,"type":"ResourceLocation"},{"name":"name","readOnly":true,"type":"string"},{"name":"properties","props":[{"enum":{"items":[{"value":"Excellent"},{"value":"Fair"},{"value":"Good"},{"value":"NotSupported"},{"value":"Poor"}]},"name":"bcdrSecurityLevel","readOnly":true,"type":"string"},{"name":"featureSettings","props":[{"name":"crossRegionRestoreSettings","props":[{"enum":{"items":[{"value":"Disabled"},{"value":"Enabled"}]},"name":"state","type":"string"}],"type":"object"},{"name":"crossSubscriptionRestoreSettings","props":[{"enum":{"items":[{"value":"Disabled"},{"value":"Enabled"},{"value":"PermanentlyDisabled"}]},"name":"state","type":"string"}],"type":"object"}],"type":"object"},{"name":"isVaultProtectedByResourceGuard","readOnly":true,"type":"boolean"},{"name":"monitoringSettings","props":[{"name":"azureMonitorAlertSettings","props":[{"enum":{"items":[{"value":"Disabled"},{"value":"Enabled"}]},"name":"alertsForAllJobFailures","type":"string"}],"type":"object"}],"type":"object"},{"enum":{"items":[{"value":"Failed"},{"value":"Provisioning"},{"value":"Succeeded"},{"value":"Unknown"},{"value":"Updating"}]},"name":"provisioningState","readOnly":true,"type":"string"},{"item":{"type":"string"},"name":"replicatedRegions","type":"array<string>"},{"item":{"type":"string"},"name":"resourceGuardOperationRequests","type":"array<string>"},{"name":"resourceMoveDetails","props":[{"name":"completionTimeUtc","type":"string"},{"name":"operationId","type":"string"},{"name":"sourceResourcePath","type":"string"},{"name":"startTimeUtc","type":"string"},{"name":"targetResourcePath","type":"string"}],"readOnly":true,"type":"object"},{"enum":{"items":[{"value":"CommitFailed"},{"value":"CommitTimedout"},{"value":"CriticalFailure"},{"value":"Failed"},{"value":"InProgress"},{"value":"MoveSucceeded"},{"value":"PartialSuccess"},{"value":"PrepareFailed"},{"value":"PrepareTimedout"},{"value":"Unknown"}]},"name":"resourceMoveState","readOnly":true,"type":"string"},{"enum":{"items":[{"value":"Adequate"},{"value":"Maximum"},{"value":"Minimum"},{"value":"None"},{"value":"NotSupported"}]},"name":"secureScore","readOnly":true,"type":"string"},{"name":"securitySettings","props":[{"name":"encryptionSettings","props":[{"enum":{"items":[{"value":"Disabled"},{"value":"Enabled"}]},"name":"infrastructureEncryption","type":"string"},{"name":"kekIdentity","props":[{"name":"identityId","type":"string"},{"enum":{"items":[{"value":"SystemAssigned"},{"value":"UserAssigned"}]},"name":"identityType","type":"string"}],"type":"object"},{"name":"keyVaultProperties","props":[{"name":"keyUri","type":"string"}],"type":"object"},{"enum":{"items":[{"value":"Disabled"},{"value":"Enabled"},{"value":"Inconsistent"}]},"name":"state","type":"string"}],"type":"object"},{"name":"immutabilitySettings","props":[{"enum":{"items":[{"value":"Disabled"},{"value":"Locked"},{"value":"Unlocked"}]},"name":"state","type":"string"}],"type":"object"},{"name":"softDeleteSettings","props":[{"name":"retentionDurationInDays","type":"float64"},{"enum":{"items":[{"value":"AlwaysOn"},{"value":"Off"},{"value":"On"}]},"name":"state","type":"string"}],"type":"object"}],"type":"object"},{"item":{"props":[{"enum":{"items":[{"value":"ArchiveStore"},{"value":"OperationalStore"},{"value":"VaultStore"}]},"name":"datastoreType","type":"string"},{"enum":{"items":[{"value":"GeoRedundant"},{"value":"LocallyRedundant"},{"value":"ZoneRedundant"}]},"name":"type","type":"string"}],"type":"object"},"name":"storageSettings","required":true,"type":"array<object>"}],"required":true,"type":"object"},{"name":"systemData","props":[{"format":{"protocol":"iso"},"name":"createdAt","type":"dateTime"},{"name":"createdBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"createdByType","type":"string"},{"format":{"protocol":"iso"},"name":"lastModifiedAt","type":"dateTime"},{"name":"lastModifiedBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"lastModifiedByType","type":"string"}],"readOnly":true,"type":"object"},{"additionalProps":{"item":{"type":"string"}},"name":"tags","type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[200]},{"statusCode":[202]},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"longRunning":{"finalStateVia":"azure-async-operation"},"operationId":"BackupVaults_Update"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.dataprotection/backupvaults/{}","plane":"mgmt-plane"}]}