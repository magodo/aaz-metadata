{"argGroups":[{"args":[{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"help":{"short":"Name of the entity. Must be unique within a health model."},"idPart":"child_name_1","options":["n","name","entity-name"],"required":true,"type":"string","var":"$Path.entityName"},{"format":{"pattern":"^[a-zA-Z][a-zA-Z0-9-]{1,42}[a-zA-Z0-9]$"},"help":{"short":"Name of health model resource"},"idPart":"name","options":["health-model-name"],"required":true,"type":"string","var":"$Path.healthModelName"},{"idPart":"resource_group","options":["g","resource-group"],"required":true,"type":"ResourceGroupName","var":"$Path.resourceGroupName"},{"idPart":"subscription","options":["subscription"],"required":true,"type":"SubscriptionId","var":"$Path.subscriptionId"}],"name":""},{"args":[{"args":[{"help":{"short":"Alert to be triggered on state change to degraded"},"options":["degraded"],"type":"@AlertConfiguration_create","var":"$resource.properties.alerts.degraded"},{"args":[{"format":{"maxLength":5,"minLength":1},"help":{"short":"Optional list of action group resource IDs to be notified when the alert is triggered."},"item":{"type":"ResourceId"},"options":["action-group-ids"],"type":"array<ResourceId>","var":"@AlertConfiguration_create.actionGroupIds"},{"format":{"maxLength":1000,"minLength":1},"help":{"short":"The alert rule description."},"options":["description"],"type":"string","var":"@AlertConfiguration_create.description"},{"enum":{"items":[{"name":"Sev0","value":"Sev0"},{"name":"Sev1","value":"Sev1"},{"name":"Sev2","value":"Sev2"},{"name":"Sev3","value":"Sev3"},{"name":"Sev4","value":"Sev4"}]},"help":{"short":"The severity of triggered alert."},"options":["severity"],"required":true,"type":"string","var":"@AlertConfiguration_create.severity"}],"cls":"AlertConfiguration_create","help":{"short":"Alert to be triggered on state change to unhealthy"},"options":["unhealthy"],"type":"object","var":"$resource.properties.alerts.unhealthy"}],"group":"Properties","help":{"short":"Alert configuration for this entity"},"options":["alerts"],"type":"object","var":"$resource.properties.alerts"},{"args":[{"help":{"short":"X Coordinate"},"options":["x"],"required":true,"type":"float32","var":"$resource.properties.canvasPosition.x"},{"help":{"short":"Y Coordinate"},"options":["y"],"required":true,"type":"float32","var":"$resource.properties.canvasPosition.y"}],"group":"Properties","help":{"short":"Positioning of the entity on the model canvas"},"options":["canvas-position"],"type":"object","var":"$resource.properties.canvasPosition"},{"format":{"maxLength":260,"minLength":1},"group":"Properties","help":{"short":"Display name"},"options":["display-name"],"type":"string","var":"$resource.properties.displayName"},{"format":{"maximum":100.0,"minimum":0},"group":"Properties","help":{"short":"Health objective as a percentage of time the entity should be healthy."},"options":["health-objective"],"type":"float32","var":"$resource.properties.healthObjective"},{"args":[{"format":{"maxLength":5000,"minLength":1},"help":{"short":"Custom data. Base64-encoded SVG data. If set, this overrides the built-in icon."},"options":["custom-data"],"type":"string","var":"$resource.properties.icon.customData"},{"format":{"maxLength":100,"minLength":1},"help":{"short":"Name of the built-in icon, or 'Custom' to use customData"},"options":["icon-name"],"required":true,"type":"string","var":"$resource.properties.icon.iconName"}],"group":"Properties","help":{"short":"Visual icon definition. If not set, a default icon is used."},"options":["icon"],"type":"object","var":"$resource.properties.icon"},{"default":{"value":"Standard"},"enum":{"items":[{"name":"Limited","value":"Limited"},{"name":"Standard","value":"Standard"},{"name":"Suppressed","value":"Suppressed"}]},"group":"Properties","help":{"short":"Impact of the entity in health state propagation"},"options":["impact"],"type":"string","var":"$resource.properties.impact"},{"default":{"value":"Default"},"format":{"maxLength":260,"minLength":1},"group":"Properties","help":{"short":"Entity kind"},"options":["kind"],"type":"string","var":"$resource.properties.kind"},{"additionalProps":{"item":{"format":{"maxLength":4096},"type":"string"}},"group":"Properties","help":{"short":"Optional set of labels (key-value pairs)"},"options":["labels"],"type":"object","var":"$resource.properties.labels"},{"args":[{"args":[{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"help":{"short":"Reference to the name of the authentication setting which is used for querying the data source"},"options":["authentication-setting"],"required":true,"type":"string","var":"$resource.properties.signals.azureLogAnalytics.authenticationSetting"},{"help":{"short":"Log Analytics Workspace resource ID"},"options":["log-analytics-workspace-resource-id"],"required":true,"type":"ResourceId","var":"$resource.properties.signals.azureLogAnalytics.logAnalyticsWorkspaceResourceId"},{"format":{"maxLength":50},"help":{"short":"Signal definitions which are assigned to this signal group. All assignments are combined with an OR operator."},"item":{"type":"@SignalAssignment_create"},"options":["signal-assignments"],"type":"array<@SignalAssignment_create>","var":"$resource.properties.signals.azureLogAnalytics.signalAssignments"}],"help":{"short":"Log Analytics Signal Group"},"options":["azure-log-analytics"],"type":"object","var":"$resource.properties.signals.azureLogAnalytics"},{"args":[{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"help":{"short":"Reference to the name of the authentication setting which is used for querying the data source"},"options":["authentication-setting"],"required":true,"type":"string","var":"$resource.properties.signals.azureMonitorWorkspace.authenticationSetting"},{"help":{"short":"Azure Monitor workspace resource ID"},"options":["azure-monitor-workspace-resource-id"],"required":true,"type":"ResourceId","var":"$resource.properties.signals.azureMonitorWorkspace.azureMonitorWorkspaceResourceId"},{"format":{"maxLength":50},"help":{"short":"Signal definitions which are assigned to this signal group. All assignments are combined with an OR operator."},"item":{"type":"@SignalAssignment_create"},"options":["signal-assignments"],"type":"array<@SignalAssignment_create>","var":"$resource.properties.signals.azureMonitorWorkspace.signalAssignments"}],"help":{"short":"Azure Monitor Workspace Signal Group"},"options":["azure-monitor-workspace"],"type":"object","var":"$resource.properties.signals.azureMonitorWorkspace"},{"args":[{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"help":{"short":"Reference to the name of the authentication setting which is used for querying the data source"},"options":["authentication-setting"],"required":true,"type":"string","var":"$resource.properties.signals.azureResource.authenticationSetting"},{"help":{"short":"Azure resource ID"},"options":["azure-resource-id"],"required":true,"type":"ResourceId","var":"$resource.properties.signals.azureResource.azureResourceId"},{"format":{"maxLength":50},"help":{"short":"Signal definitions which are assigned to this signal group. All assignments are combined with an OR operator."},"item":{"args":[{"format":{"maxLength":1,"minLength":1},"help":{"short":"Signal definitions referenced by their names. All definitions are combined with an AND operator."},"item":{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"type":"string"},"options":["signal-definitions"],"required":true,"type":"array<string>","var":"@SignalAssignment_create.signalDefinitions"}],"cls":"SignalAssignment_create","type":"object"},"options":["signal-assignments"],"type":"array<object>","var":"$resource.properties.signals.azureResource.signalAssignments"}],"help":{"short":"Azure Resource Signal Group"},"options":["azure-resource"],"type":"object","var":"$resource.properties.signals.azureResource"},{"args":[{"default":{"value":"WorstOf"},"enum":{"items":[{"name":"Thresholds","value":"Thresholds"},{"name":"WorstOf","value":"WorstOf"}]},"help":{"short":"Aggregation type for child dependencies."},"options":["aggregation-type"],"required":true,"type":"string","var":"$resource.properties.signals.dependencies.aggregationType"},{"help":{"short":"Degraded threshold for aggregating the propagated health state of child dependencies. Can be either an absolute number that is greater than 0, or a percentage between 1-100%. The entity will be considered degraded when the number of not healthy child dependents (unhealthy, degraded, unknown) is equal to or above the threshold value. Must only be set when AggregationType is 'Thresholds'."},"options":["degraded-threshold"],"type":"string","var":"$resource.properties.signals.dependencies.degradedThreshold"},{"help":{"short":"Unhealthy threshold for aggregating the propagated health state of child dependencies. Can be either an absolute number that is greater than 0, or a percentage between 1-100%. The entity will be considered unhealthy when the number of not healthy child dependents (unhealthy, degraded, unknown) is equal to or above the threshold value. Must only be set when AggregationType is 'Thresholds'."},"options":["unhealthy-threshold"],"type":"string","var":"$resource.properties.signals.dependencies.unhealthyThreshold"}],"help":{"short":"Settings for dependency signals to control how the health state of child entities influences the health state of the parent entity."},"options":["dependencies"],"type":"object","var":"$resource.properties.signals.dependencies"}],"group":"Properties","help":{"short":"Signal groups which are assigned to this entity"},"options":["signals"],"type":"object","var":"$resource.properties.signals"}],"name":"Properties"}],"operations":[{"http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.CloudHealth/healthmodels/{healthModelName}/entities/{entityName}","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"resource","props":[{"name":"properties","props":[{"arg":"$resource.properties.alerts","name":"alerts","props":[{"arg":"$resource.properties.alerts.degraded","name":"degraded","type":"@AlertConfiguration_create"},{"arg":"$resource.properties.alerts.unhealthy","cls":"AlertConfiguration_create","name":"unhealthy","props":[{"arg":"@AlertConfiguration_create.actionGroupIds","format":{"maxLength":5,"minLength":1},"item":{"type":"ResourceId"},"name":"actionGroupIds","type":"array<ResourceId>"},{"arg":"@AlertConfiguration_create.description","format":{"maxLength":1000,"minLength":1},"name":"description","type":"string"},{"arg":"@AlertConfiguration_create.severity","enum":{"items":[{"value":"Sev0"},{"value":"Sev1"},{"value":"Sev2"},{"value":"Sev3"},{"value":"Sev4"}]},"name":"severity","required":true,"type":"string"}],"type":"object"}],"type":"object"},{"arg":"$resource.properties.canvasPosition","name":"canvasPosition","props":[{"arg":"$resource.properties.canvasPosition.x","name":"x","required":true,"type":"float32"},{"arg":"$resource.properties.canvasPosition.y","name":"y","required":true,"type":"float32"}],"type":"object"},{"arg":"$resource.properties.displayName","format":{"maxLength":260,"minLength":1},"name":"displayName","type":"string"},{"arg":"$resource.properties.healthObjective","format":{"maximum":100.0,"minimum":0},"name":"healthObjective","type":"float32"},{"arg":"$resource.properties.icon","name":"icon","props":[{"arg":"$resource.properties.icon.customData","format":{"maxLength":5000,"minLength":1},"name":"customData","type":"string"},{"arg":"$resource.properties.icon.iconName","format":{"maxLength":100,"minLength":1},"name":"iconName","required":true,"type":"string"}],"type":"object"},{"arg":"$resource.properties.impact","default":{"value":"Standard"},"enum":{"items":[{"value":"Limited"},{"value":"Standard"},{"value":"Suppressed"}]},"name":"impact","type":"string"},{"arg":"$resource.properties.kind","default":{"value":"Default"},"format":{"maxLength":260,"minLength":1},"name":"kind","type":"string"},{"additionalProps":{"item":{"format":{"maxLength":4096},"type":"string"}},"arg":"$resource.properties.labels","name":"labels","type":"object"},{"arg":"$resource.properties.signals","name":"signals","props":[{"arg":"$resource.properties.signals.azureLogAnalytics","name":"azureLogAnalytics","props":[{"arg":"$resource.properties.signals.azureLogAnalytics.authenticationSetting","format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"name":"authenticationSetting","required":true,"type":"string"},{"arg":"$resource.properties.signals.azureLogAnalytics.logAnalyticsWorkspaceResourceId","name":"logAnalyticsWorkspaceResourceId","required":true,"type":"ResourceId"},{"arg":"$resource.properties.signals.azureLogAnalytics.signalAssignments","format":{"maxLength":50},"identifiers":["signalDefinitions"],"item":{"type":"@SignalAssignment_create"},"name":"signalAssignments","type":"array<@SignalAssignment_create>"}],"type":"object"},{"arg":"$resource.properties.signals.azureMonitorWorkspace","name":"azureMonitorWorkspace","props":[{"arg":"$resource.properties.signals.azureMonitorWorkspace.authenticationSetting","format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"name":"authenticationSetting","required":true,"type":"string"},{"arg":"$resource.properties.signals.azureMonitorWorkspace.azureMonitorWorkspaceResourceId","name":"azureMonitorWorkspaceResourceId","required":true,"type":"ResourceId"},{"arg":"$resource.properties.signals.azureMonitorWorkspace.signalAssignments","format":{"maxLength":50},"identifiers":["signalDefinitions"],"item":{"type":"@SignalAssignment_create"},"name":"signalAssignments","type":"array<@SignalAssignment_create>"}],"type":"object"},{"arg":"$resource.properties.signals.azureResource","name":"azureResource","props":[{"arg":"$resource.properties.signals.azureResource.authenticationSetting","format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"name":"authenticationSetting","required":true,"type":"string"},{"arg":"$resource.properties.signals.azureResource.azureResourceId","name":"azureResourceId","required":true,"type":"ResourceId"},{"arg":"$resource.properties.signals.azureResource.signalAssignments","format":{"maxLength":50},"identifiers":["signalDefinitions"],"item":{"cls":"SignalAssignment_create","props":[{"arg":"@SignalAssignment_create.signalDefinitions","format":{"maxLength":1,"minLength":1},"item":{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"type":"string"},"name":"signalDefinitions","required":true,"type":"array<string>"}],"type":"object"},"name":"signalAssignments","type":"array<object>"}],"type":"object"},{"arg":"$resource.properties.signals.dependencies","name":"dependencies","props":[{"arg":"$resource.properties.signals.dependencies.aggregationType","default":{"value":"WorstOf"},"enum":{"items":[{"value":"Thresholds"},{"value":"WorstOf"}]},"name":"aggregationType","required":true,"type":"string"},{"arg":"$resource.properties.signals.dependencies.degradedThreshold","name":"degradedThreshold","type":"string"},{"arg":"$resource.properties.signals.dependencies.unhealthyThreshold","name":"unhealthyThreshold","type":"string"}],"type":"object"}],"type":"object"}],"type":"object"}],"required":true,"type":"object"}}},"method":"put","path":{"params":[{"arg":"$Path.entityName","format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"name":"entityName","required":true,"type":"string"},{"arg":"$Path.healthModelName","format":{"pattern":"^[a-zA-Z][a-zA-Z0-9-]{1,42}[a-zA-Z0-9]$"},"name":"healthModelName","required":true,"type":"string"},{"arg":"$Path.resourceGroupName","format":{"maxLength":90,"minLength":1},"name":"resourceGroupName","required":true,"type":"string"},{"arg":"$Path.subscriptionId","name":"subscriptionId","required":true,"type":"uuid"}]},"query":{"consts":[{"const":true,"default":{"value":"2025-05-01-preview"},"format":{"minLength":1},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.CloudHealth/healthmodels/{}/entities/{}"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"name","readOnly":true,"type":"string"},{"name":"properties","props":[{"name":"alerts","props":[{"name":"degraded","type":"@AlertConfiguration_read"},{"cls":"AlertConfiguration_read","name":"unhealthy","props":[{"format":{"maxLength":5,"minLength":1},"item":{"type":"ResourceId"},"name":"actionGroupIds","type":"array<ResourceId>"},{"format":{"maxLength":1000,"minLength":1},"name":"description","type":"string"},{"enum":{"items":[{"value":"Sev0"},{"value":"Sev1"},{"value":"Sev2"},{"value":"Sev3"},{"value":"Sev4"}]},"name":"severity","required":true,"type":"string"}],"type":"object"}],"type":"object"},{"name":"canvasPosition","props":[{"name":"x","required":true,"type":"float32"},{"name":"y","required":true,"type":"float32"}],"type":"object"},{"format":{"protocol":"iso"},"name":"deletionDate","readOnly":true,"type":"dateTime"},{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"name":"discoveredBy","readOnly":true,"type":"string"},{"format":{"maxLength":260,"minLength":1},"name":"displayName","type":"string"},{"format":{"maximum":100.0,"minimum":0},"name":"healthObjective","type":"float32"},{"enum":{"items":[{"value":"Degraded"},{"value":"Deleted"},{"value":"Error"},{"value":"Healthy"},{"value":"Unknown"}]},"name":"healthState","readOnly":true,"type":"string"},{"name":"icon","props":[{"format":{"maxLength":5000,"minLength":1},"name":"customData","type":"string"},{"format":{"maxLength":100,"minLength":1},"name":"iconName","required":true,"type":"string"}],"type":"object"},{"default":{"value":"Standard"},"enum":{"items":[{"value":"Limited"},{"value":"Standard"},{"value":"Suppressed"}]},"name":"impact","type":"string"},{"default":{"value":"Default"},"format":{"maxLength":260,"minLength":1},"name":"kind","type":"string"},{"additionalProps":{"item":{"format":{"maxLength":4096},"type":"string"}},"name":"labels","type":"object"},{"enum":{"items":[{"value":"Canceled"},{"value":"Creating"},{"value":"Deleting"},{"value":"Failed"},{"value":"Succeeded"}]},"name":"provisioningState","readOnly":true,"type":"string"},{"name":"signals","props":[{"name":"azureLogAnalytics","props":[{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"name":"authenticationSetting","required":true,"type":"string"},{"name":"logAnalyticsWorkspaceResourceId","required":true,"type":"ResourceId"},{"format":{"maxLength":50},"identifiers":["signalDefinitions"],"item":{"type":"@SignalAssignment_read"},"name":"signalAssignments","type":"array<@SignalAssignment_read>"}],"type":"object"},{"name":"azureMonitorWorkspace","props":[{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"name":"authenticationSetting","required":true,"type":"string"},{"name":"azureMonitorWorkspaceResourceId","required":true,"type":"ResourceId"},{"format":{"maxLength":50},"identifiers":["signalDefinitions"],"item":{"type":"@SignalAssignment_read"},"name":"signalAssignments","type":"array<@SignalAssignment_read>"}],"type":"object"},{"name":"azureResource","props":[{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"name":"authenticationSetting","required":true,"type":"string"},{"name":"azureResourceId","required":true,"type":"ResourceId"},{"format":{"maxLength":50},"identifiers":["signalDefinitions"],"item":{"cls":"SignalAssignment_read","props":[{"format":{"maxLength":1,"minLength":1},"item":{"format":{"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-]{1,258}[a-zA-Z0-9]$"},"type":"string"},"name":"signalDefinitions","required":true,"type":"array<string>"}],"type":"object"},"name":"signalAssignments","type":"array<object>"}],"type":"object"},{"name":"dependencies","props":[{"default":{"value":"WorstOf"},"enum":{"items":[{"value":"Thresholds"},{"value":"WorstOf"}]},"name":"aggregationType","required":true,"type":"string"},{"name":"degradedThreshold","type":"string"},{"name":"unhealthyThreshold","type":"string"}],"type":"object"}],"type":"object"}],"type":"object"},{"name":"systemData","props":[{"format":{"protocol":"iso"},"name":"createdAt","type":"dateTime"},{"name":"createdBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"createdByType","type":"string"},{"format":{"protocol":"iso"},"name":"lastModifiedAt","type":"dateTime"},{"name":"lastModifiedBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"lastModifiedByType","type":"string"}],"readOnly":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[200,201]},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"operationId":"Entities_CreateOrUpdate"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.cloudhealth/healthmodels/{}/entities/{}","plane":"mgmt-plane"}]}