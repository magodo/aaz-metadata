{"argGroups":[{"args":[{"idPart":"resource_group","options":["g","resource-group"],"required":true,"type":"ResourceGroupName","var":"$Path.resourceGroupName"},{"format":{"pattern":"^[^:@/#{}%&+*<>?]+$"},"help":{"short":"The name of the rule group."},"idPart":"name","options":["n","name","rule-group-name"],"required":true,"type":"string","var":"$Path.ruleGroupName"},{"idPart":"subscription","options":["subscription"],"required":true,"type":"SubscriptionId","var":"$Path.subscriptionId"}],"name":""},{"args":[{"group":"Parameters","help":{"short":"The geo-location where the resource lives"},"options":["l","location"],"required":true,"type":"ResourceLocation","var":"$parameters.location"},{"additionalProps":{"item":{"type":"string"}},"group":"Parameters","help":{"short":"Resource tags."},"options":["tags"],"type":"object","var":"$parameters.tags"}],"name":"Parameters"},{"args":[{"group":"Properties","help":{"short":"Apply rule to data from a specific cluster."},"options":["cluster-name"],"type":"string","var":"$parameters.properties.clusterName"},{"group":"Properties","help":{"short":"Rule group description."},"options":["description"],"type":"string","var":"$parameters.properties.description"},{"group":"Properties","help":{"short":"Enable/disable rule group."},"options":["enabled"],"type":"boolean","var":"$parameters.properties.enabled"},{"group":"Properties","help":{"short":"The interval in which to run the Prometheus rule group represented in ISO 8601 duration format. Should be between 1 and 15 minutes"},"options":["interval"],"type":"duration","var":"$parameters.properties.interval"},{"group":"Properties","help":{"short":"Defines the rules in the Prometheus rule group."},"item":{"args":[{"help":{"short":"Actions that are performed when the alert rule becomes active, and when an alert condition is resolved."},"item":{"args":[{"help":{"short":"The resource id of the action group to use."},"options":["action-group-id"],"type":"string","var":"$parameters.properties.rules[].actions[].actionGroupId"},{"additionalProps":{"item":{"type":"string"}},"help":{"short":"The properties of an action group object."},"options":["action-properties"],"type":"object","var":"$parameters.properties.rules[].actions[].actionProperties"}],"type":"object"},"options":["actions"],"type":"array<object>","var":"$parameters.properties.rules[].actions"},{"help":{"short":"Alert rule name."},"options":["alert"],"type":"string","var":"$parameters.properties.rules[].alert"},{"additionalProps":{"item":{"type":"string"}},"help":{"short":"The annotations clause specifies a set of informational labels that can be used to store longer additional information such as alert descriptions or runbook links. The annotation values can be templated."},"options":["annotations"],"type":"object","var":"$parameters.properties.rules[].annotations"},{"help":{"short":"Enable/disable rule."},"options":["enabled"],"type":"boolean","var":"$parameters.properties.rules[].enabled"},{"help":{"short":"The PromQL expression to evaluate. https://prometheus.io/docs/prometheus/latest/querying/basics/. Evaluated periodically as given by 'interval', and the result recorded as a new set of time series with the metric name as given by 'record'."},"options":["expression"],"required":true,"type":"string","var":"$parameters.properties.rules[].expression"},{"help":{"short":"The amount of time alert must be active before firing."},"options":["for"],"type":"duration","var":"$parameters.properties.rules[].for"},{"additionalProps":{"item":{"type":"string"}},"help":{"short":"Labels to add or overwrite before storing the result."},"options":["labels"],"type":"object","var":"$parameters.properties.rules[].labels"},{"help":{"short":"Recorded metrics name."},"options":["record"],"type":"string","var":"$parameters.properties.rules[].record"},{"args":[{"help":{"short":"Enable alert auto-resolution."},"options":["auto-resolved"],"type":"boolean","var":"$parameters.properties.rules[].resolveConfiguration.autoResolved"},{"help":{"short":"Alert auto-resolution timeout."},"options":["time-to-resolve"],"type":"duration","var":"$parameters.properties.rules[].resolveConfiguration.timeToResolve"}],"help":{"short":"Defines the configuration for resolving fired alerts. Only relevant for alerts."},"options":["resolve-configuration"],"type":"object","var":"$parameters.properties.rules[].resolveConfiguration"},{"help":{"short":"The severity of the alerts fired by the rule. Must be between 0 and 4."},"options":["severity"],"type":"integer32","var":"$parameters.properties.rules[].severity"}],"type":"object"},"options":["rules"],"required":true,"type":"array<object>","var":"$parameters.properties.rules"},{"group":"Properties","help":{"short":"Target Azure Monitor workspaces resource ids. This api-version is currently limited to creating with one scope. This may change in future."},"item":{"type":"string"},"options":["scopes"],"required":true,"type":"array<string>","var":"$parameters.properties.scopes"}],"name":"Properties"}],"operations":[{"http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.AlertsManagement/prometheusRuleGroups/{ruleGroupName}","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"parameters","props":[{"arg":"$parameters.location","name":"location","required":true,"type":"ResourceLocation"},{"clientFlatten":true,"name":"properties","props":[{"arg":"$parameters.properties.clusterName","name":"clusterName","type":"string"},{"arg":"$parameters.properties.description","name":"description","type":"string"},{"arg":"$parameters.properties.enabled","name":"enabled","type":"boolean"},{"arg":"$parameters.properties.interval","name":"interval","type":"duration"},{"arg":"$parameters.properties.rules","item":{"props":[{"arg":"$parameters.properties.rules[].actions","item":{"props":[{"arg":"$parameters.properties.rules[].actions[].actionGroupId","name":"actionGroupId","type":"string"},{"additionalProps":{"item":{"type":"string"}},"arg":"$parameters.properties.rules[].actions[].actionProperties","name":"actionProperties","type":"object"}],"type":"object"},"name":"actions","type":"array<object>"},{"arg":"$parameters.properties.rules[].alert","name":"alert","type":"string"},{"additionalProps":{"item":{"type":"string"}},"arg":"$parameters.properties.rules[].annotations","name":"annotations","type":"object"},{"arg":"$parameters.properties.rules[].enabled","name":"enabled","type":"boolean"},{"arg":"$parameters.properties.rules[].expression","name":"expression","required":true,"type":"string"},{"arg":"$parameters.properties.rules[].for","name":"for","type":"duration"},{"additionalProps":{"item":{"type":"string"}},"arg":"$parameters.properties.rules[].labels","name":"labels","type":"object"},{"arg":"$parameters.properties.rules[].record","name":"record","type":"string"},{"arg":"$parameters.properties.rules[].resolveConfiguration","name":"resolveConfiguration","props":[{"arg":"$parameters.properties.rules[].resolveConfiguration.autoResolved","name":"autoResolved","type":"boolean"},{"arg":"$parameters.properties.rules[].resolveConfiguration.timeToResolve","name":"timeToResolve","type":"duration"}],"type":"object"},{"arg":"$parameters.properties.rules[].severity","name":"severity","type":"integer32"}],"type":"object"},"name":"rules","required":true,"type":"array<object>"},{"arg":"$parameters.properties.scopes","item":{"type":"string"},"name":"scopes","required":true,"type":"array<string>"}],"required":true,"type":"object"},{"additionalProps":{"item":{"type":"string"}},"arg":"$parameters.tags","name":"tags","type":"object"}],"required":true,"type":"object"}}},"method":"put","path":{"params":[{"arg":"$Path.resourceGroupName","format":{"maxLength":90,"minLength":1},"name":"resourceGroupName","required":true,"type":"string"},{"arg":"$Path.ruleGroupName","format":{"pattern":"^[^:@/#{}%&+*<>?]+$"},"name":"ruleGroupName","required":true,"type":"string"},{"arg":"$Path.subscriptionId","format":{"minLength":1},"name":"subscriptionId","required":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2023-03-01"},"format":{"minLength":1},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.AlertsManagement/prometheusRuleGroups/{}"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"location","required":true,"type":"ResourceLocation"},{"name":"name","readOnly":true,"type":"string"},{"clientFlatten":true,"name":"properties","props":[{"name":"clusterName","type":"string"},{"name":"description","type":"string"},{"name":"enabled","type":"boolean"},{"name":"interval","type":"duration"},{"item":{"props":[{"item":{"props":[{"name":"actionGroupId","type":"string"},{"additionalProps":{"item":{"type":"string"}},"name":"actionProperties","type":"object"}],"type":"object"},"name":"actions","type":"array<object>"},{"name":"alert","type":"string"},{"additionalProps":{"item":{"type":"string"}},"name":"annotations","type":"object"},{"name":"enabled","type":"boolean"},{"name":"expression","required":true,"type":"string"},{"name":"for","type":"duration"},{"additionalProps":{"item":{"type":"string"}},"name":"labels","type":"object"},{"name":"record","type":"string"},{"name":"resolveConfiguration","props":[{"name":"autoResolved","type":"boolean"},{"name":"timeToResolve","type":"duration"}],"type":"object"},{"name":"severity","type":"integer32"}],"type":"object"},"name":"rules","required":true,"type":"array<object>"},{"item":{"type":"string"},"name":"scopes","required":true,"type":"array<string>"}],"required":true,"type":"object"},{"name":"systemData","props":[{"format":{"protocol":"iso"},"name":"createdAt","type":"dateTime"},{"name":"createdBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"createdByType","type":"string"},{"format":{"protocol":"iso"},"name":"lastModifiedAt","type":"dateTime"},{"name":"lastModifiedBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"lastModifiedByType","type":"string"}],"readOnly":true,"type":"object"},{"additionalProps":{"item":{"type":"string"}},"name":"tags","type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[200,201]},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"operationId":"PrometheusRuleGroups_CreateOrUpdate"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.alertsmanagement/prometheusrulegroups/{}","plane":"mgmt-plane"}]}