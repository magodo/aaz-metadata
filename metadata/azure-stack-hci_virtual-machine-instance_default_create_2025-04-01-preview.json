{"argGroups":[{"args":[{"help":{"short":"The fully qualified Azure Resource manager identifier of the resource."},"options":["resource-uri"],"required":true,"type":"string","var":"$Path.resourceUri"}],"name":""},{"args":[{"blank":{"value":"True"},"group":"Identity","help":{"short":"Set the system managed identity."},"options":["system-assigned","mi-system-assigned"],"type":"string","var":"$resource.identity.systemAssigned"},{"enum":{"items":[{"name":"None","value":"None"},{"name":"SystemAssigned","value":"SystemAssigned"},{"name":"SystemAssigned,UserAssigned","value":"SystemAssigned,UserAssigned"},{"name":"UserAssigned","value":"UserAssigned"}]},"group":"Identity","help":{"short":"Type of managed service identity (where both SystemAssigned and UserAssigned types are allowed)."},"hide":true,"options":["type"],"type":"string","var":"$resource.identity.type"},{"blank":{"value":[]},"group":"Identity","help":{"short":"Set the user managed identities."},"item":{"type":"string"},"options":["user-assigned","mi-user-assigned"],"type":"array<string>","var":"$resource.identity.userAssigned"},{"additionalProps":{"item":{"blank":{"value":{}},"nullable":true,"type":"object"}},"group":"Identity","help":{"short":"The set of user assigned identities associated with the resource. The userAssignedIdentities dictionary keys will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}. The dictionary values can be empty objects ({}) in requests."},"hide":true,"options":["user-assigned-identities"],"type":"object","var":"$resource.identity.userAssignedIdentities"}],"name":"Identity"},{"args":[{"default":{"value":false},"group":"Properties","help":{"short":"Boolean indicating whether this is an existing local virtual machine or if one should be created."},"options":["create-from-local"],"type":"boolean","var":"$resource.properties.createFromLocal"},{"args":[{"args":[{"help":{"short":"Maximum memory in MB"},"options":["maximum-memory-mb"],"type":"integer64","var":"$resource.properties.hardwareProfile.dynamicMemoryConfig.maximumMemoryMB"},{"help":{"short":"Minimum memory in MB"},"options":["minimum-memory-mb"],"type":"integer64","var":"$resource.properties.hardwareProfile.dynamicMemoryConfig.minimumMemoryMB"},{"help":{"short":"Defines the amount of extra memory that should be reserved for a virtual machine instance at runtime, as a percentage of the total memory that the virtual machine instance is thought to need. This only applies to virtual systems with dynamic memory enabled. This property can be in the range of 5 to 2000."},"options":["target-memory-buffer"],"type":"integer32","var":"$resource.properties.hardwareProfile.dynamicMemoryConfig.targetMemoryBuffer"}],"help":{"short":"Dynamic memory config"},"options":["dynamic-memory-config"],"type":"object","var":"$resource.properties.hardwareProfile.dynamicMemoryConfig"},{"help":{"short":"RAM in MB for the virtual machine instance"},"options":["memory-mb"],"type":"integer64","var":"$resource.properties.hardwareProfile.memoryMB"},{"help":{"short":"number of processors for the virtual machine instance"},"options":["processors"],"type":"integer32","var":"$resource.properties.hardwareProfile.processors"},{"help":{"short":"virtualMachineGPUs - list of gpus to be attached to the virtual machine instance"},"item":{"args":[{"enum":{"items":[{"name":"GpuDDA","value":"GpuDDA"},{"name":"GpuP","value":"GpuP"}]},"help":{"short":"GPU assignment type"},"options":["assignment-type"],"required":true,"type":"string","var":"$resource.properties.hardwareProfile.virtualMachineGPUs[].assignmentType"},{"help":{"short":"Name of the GPU"},"options":["gpu-name"],"type":"string","var":"$resource.properties.hardwareProfile.virtualMachineGPUs[].gpuName"},{"help":{"short":"Size of gpu partition in MB for GPU-P"},"options":["partition-size-mb"],"type":"integer64","var":"$resource.properties.hardwareProfile.virtualMachineGPUs[].partitionSizeMB"}],"type":"object"},"options":["virtual-machine-gp-us"],"type":"array<object>","var":"$resource.properties.hardwareProfile.virtualMachineGPUs"},{"default":{"value":"Default"},"enum":{"items":[{"name":"Custom","value":"Custom"},{"name":"Default","value":"Default"},{"name":"Standard_A2_v2","value":"Standard_A2_v2"},{"name":"Standard_A4_v2","value":"Standard_A4_v2"},{"name":"Standard_D16s_v3","value":"Standard_D16s_v3"},{"name":"Standard_D2s_v3","value":"Standard_D2s_v3"},{"name":"Standard_D32s_v3","value":"Standard_D32s_v3"},{"name":"Standard_D4s_v3","value":"Standard_D4s_v3"},{"name":"Standard_D8s_v3","value":"Standard_D8s_v3"},{"name":"Standard_DS13_v2","value":"Standard_DS13_v2"},{"name":"Standard_DS2_v2","value":"Standard_DS2_v2"},{"name":"Standard_DS3_v2","value":"Standard_DS3_v2"},{"name":"Standard_DS4_v2","value":"Standard_DS4_v2"},{"name":"Standard_DS5_v2","value":"Standard_DS5_v2"},{"name":"Standard_K8S2_v1","value":"Standard_K8S2_v1"},{"name":"Standard_K8S3_v1","value":"Standard_K8S3_v1"},{"name":"Standard_K8S4_v1","value":"Standard_K8S4_v1"},{"name":"Standard_K8S5_v1","value":"Standard_K8S5_v1"},{"name":"Standard_K8S_v1","value":"Standard_K8S_v1"},{"name":"Standard_NK12","value":"Standard_NK12"},{"name":"Standard_NK6","value":"Standard_NK6"},{"name":"Standard_NV12","value":"Standard_NV12"},{"name":"Standard_NV6","value":"Standard_NV6"}]},"help":{"short":"Enum of VM Sizes"},"options":["vm-size"],"type":"string","var":"$resource.properties.hardwareProfile.vmSize"}],"group":"Properties","help":{"short":"HardwareProfile - Specifies the hardware settings for the virtual machine instance."},"options":["hardware-profile"],"type":"object","var":"$resource.properties.hardwareProfile"},{"args":[{"help":{"short":"The HTTP proxy server endpoint to use."},"options":["http-proxy"],"prompt":{"msg":"Password:"},"type":"password","var":"$resource.properties.httpProxyConfig.httpProxy"},{"help":{"short":"The HTTPS proxy server endpoint to use."},"options":["https-proxy"],"prompt":{"msg":"Password:"},"type":"password","var":"$resource.properties.httpProxyConfig.httpsProxy"},{"help":{"short":"The endpoints that should not go through proxy."},"item":{"type":"string"},"options":["no-proxy"],"type":"array<string>","var":"$resource.properties.httpProxyConfig.noProxy"},{"help":{"short":"Alternative CA cert to use for connecting to proxy servers."},"options":["trusted-ca"],"type":"string","var":"$resource.properties.httpProxyConfig.trustedCa"}],"group":"Properties","help":{"short":"HTTP Proxy configuration for the VM."},"options":["http-proxy-config"],"type":"object","var":"$resource.properties.httpProxyConfig"},{"args":[{"help":{"short":"NetworkInterfaces - list of network interfaces to be attached to the virtual machine instance"},"item":{"args":[{"help":{"short":"The ARM ID for a Network Interface."},"options":["id"],"type":"ResourceId","var":"$resource.properties.networkProfile.networkInterfaces[].id"}],"type":"object"},"options":["network-interfaces"],"type":"array<object>","var":"$resource.properties.networkProfile.networkInterfaces"}],"group":"Properties","help":{"short":"NetworkProfile - describes the network configuration the virtual machine instance"},"options":["network-profile"],"type":"object","var":"$resource.properties.networkProfile"},{"args":[{"help":{"short":"AdminPassword - admin password"},"options":["admin-password"],"prompt":{"msg":"Password:"},"type":"password","var":"$resource.properties.osProfile.adminPassword"},{"help":{"short":"AdminUsername - admin username"},"options":["admin-username"],"type":"string","var":"$resource.properties.osProfile.adminUsername"},{"help":{"short":"ComputerName - name of the compute"},"options":["computer-name"],"type":"string","var":"$resource.properties.osProfile.computerName"},{"args":[{"help":{"short":"DisablePasswordAuthentication - whether password authentication should be disabled"},"options":["disable-password-authentication"],"type":"boolean","var":"$resource.properties.osProfile.linuxConfiguration.disablePasswordAuthentication"},{"default":{"value":true},"help":{"short":"Used to indicate whether Arc for Servers agent onboarding should be triggered during the virtual machine instance creation process."},"options":["provision-vm-agent"],"type":"boolean","var":"$resource.properties.osProfile.linuxConfiguration.provisionVMAgent"},{"default":{"value":true},"help":{"short":"Used to indicate whether the VM Config Agent should be installed during the virtual machine creation process."},"options":["provision-vm-config-agent"],"type":"boolean","var":"$resource.properties.osProfile.linuxConfiguration.provisionVMConfigAgent"},{"args":[{"help":{"short":"The list of SSH public keys used to authenticate with linux based VMs."},"item":{"args":[{"help":{"short":"SSH public key certificate used to authenticate with the VM through ssh. The key needs to be at least 2048-bit and in ssh-rsa format. <br><br> For creating ssh keys, see [Create SSH keys on Linux and Mac for Linux VMs in Azure]https://learn.microsoft.com/azure/virtual-machines/linux/create-ssh-keys-detailed)."},"options":["key-data"],"type":"string","var":"@SshConfiguration_create.publicKeys[].keyData"},{"help":{"short":"Specifies the full path on the created VM where ssh public key is stored. If the file already exists, the specified key is appended to the file. Example: /home/user/.ssh/authorized_keys"},"options":["path"],"type":"string","var":"@SshConfiguration_create.publicKeys[].path"}],"type":"object"},"options":["public-keys"],"type":"array<object>","var":"@SshConfiguration_create.publicKeys"}],"cls":"SshConfiguration_create","help":{"short":"Specifies the ssh key configuration for a Linux OS."},"options":["ssh"],"type":"object","var":"$resource.properties.osProfile.linuxConfiguration.ssh"}],"help":{"short":"LinuxConfiguration - linux specific configuration values for the virtual machine instance"},"options":["linux-configuration"],"type":"object","var":"$resource.properties.osProfile.linuxConfiguration"},{"args":[{"help":{"short":"Whether to EnableAutomaticUpdates on the machine"},"options":["enable-automatic-updates"],"type":"boolean","var":"$resource.properties.osProfile.windowsConfiguration.enableAutomaticUpdates"},{"default":{"value":true},"help":{"short":"Used to indicate whether Arc for Servers agent onboarding should be triggered during the virtual machine instance creation process."},"options":["provision-vm-agent"],"type":"boolean","var":"$resource.properties.osProfile.windowsConfiguration.provisionVMAgent"},{"default":{"value":true},"help":{"short":"Used to indicate whether the VM Config Agent should be installed during the virtual machine creation process."},"options":["provision-vm-config-agent"],"type":"boolean","var":"$resource.properties.osProfile.windowsConfiguration.provisionVMConfigAgent"},{"help":{"short":"Specifies the ssh key configuration for Windows OS."},"options":["ssh"],"type":"@SshConfiguration_create","var":"$resource.properties.osProfile.windowsConfiguration.ssh"},{"help":{"short":"TimeZone for the virtual machine instance"},"options":["time-zone"],"type":"string","var":"$resource.properties.osProfile.windowsConfiguration.timeZone"}],"help":{"short":"Windows Configuration for the virtual machine instance"},"options":["windows-configuration"],"type":"object","var":"$resource.properties.osProfile.windowsConfiguration"}],"group":"Properties","help":{"short":"OsProfile - describes the configuration of the operating system and sets login data"},"options":["os-profile"],"type":"object","var":"$resource.properties.osProfile"},{"args":[{"help":{"short":"Specifies whether VM can only failover strictly within the zone it was placed in"},"options":["strict-placement-policy"],"type":"boolean","var":"$resource.properties.placementProfile.strictPlacementPolicy"},{"help":{"short":"The zone in which the VM should be placed in."},"options":["zone"],"type":"string","var":"$resource.properties.placementProfile.zone"}],"group":"Properties","help":{"short":"PlacementProfile - Specifies the placement related settings for the virtual machine."},"options":["placement-profile"],"type":"object","var":"$resource.properties.placementProfile"},{"group":"Properties","help":{"short":"Unique identifier defined by ARC to identify the guest of the VM."},"options":["resource-uid"],"type":"string","var":"$resource.properties.resourceUid"},{"args":[{"default":{"value":false},"help":{"short":"Enable TPM flag"},"options":["enable-tpm"],"type":"boolean","var":"$resource.properties.securityProfile.enableTPM"},{"enum":{"items":[{"name":"ConfidentialVM","value":"ConfidentialVM"},{"name":"TrustedLaunch","value":"TrustedLaunch"}]},"help":{"short":"Specifies the SecurityType of the virtual machine. EnableTPM and SecureBootEnabled must be set to true for SecurityType to function."},"options":["security-type"],"type":"string","var":"$resource.properties.securityProfile.securityType"},{"args":[{"default":{"value":false},"help":{"short":"Specifies whether secure boot should be enabled on the virtual machine instance."},"options":["secure-boot-enabled"],"type":"boolean","var":"$resource.properties.securityProfile.uefiSettings.secureBootEnabled"}],"help":{"short":"Uefi settings of the virtual machine instance"},"options":["uefi-settings"],"type":"object","var":"$resource.properties.securityProfile.uefiSettings"}],"group":"Properties","help":{"short":"SecurityProfile - Specifies the security settings for the virtual machine instance."},"options":["security-profile"],"type":"object","var":"$resource.properties.securityProfile"},{"args":[{"help":{"short":"adds data disks to the virtual machine instance"},"item":{"args":[{"help":{"short":"The ARM ID for a Virtual Hard Disk."},"options":["id"],"type":"ResourceId","var":"$resource.properties.storageProfile.dataDisks[].id"}],"type":"object"},"options":["data-disks"],"type":"array<object>","var":"$resource.properties.storageProfile.dataDisks"},{"args":[{"help":{"short":"The ARM ID for an image resource used by the virtual machine instance."},"options":["id"],"type":"ResourceId","var":"$resource.properties.storageProfile.imageReference.id"}],"help":{"short":"Which Image to use for the virtual machine instance"},"options":["image-reference"],"type":"object","var":"$resource.properties.storageProfile.imageReference"},{"args":[{"help":{"short":"The ARM ID for a Virtual Hard Disk."},"options":["id"],"type":"ResourceId","var":"$resource.properties.storageProfile.osDisk.id"},{"args":[{"args":[{"enum":{"items":[{"name":"NonPersistedTPM","value":"NonPersistedTPM"}]},"help":{"short":"Specifies the EncryptionType of the managed disk. It is set to NonPersistedTPM for not persisting firmware state in the VMGuestState blob. NOTE: It can be set for only Confidential VMs."},"options":["security-encryption-type"],"type":"string","var":"$resource.properties.storageProfile.osDisk.managedDisk.securityProfile.securityEncryptionType"}],"help":{"short":"Specifies the security profile for the managed disk."},"options":["security-profile"],"type":"object","var":"$resource.properties.storageProfile.osDisk.managedDisk.securityProfile"}],"help":{"short":"The managed disk parameters."},"options":["managed-disk"],"type":"object","var":"$resource.properties.storageProfile.osDisk.managedDisk"},{"enum":{"items":[{"name":"Linux","value":"Linux"},{"name":"Windows","value":"Windows"}]},"help":{"short":"This property allows you to specify the type of the OS that is included in the disk if creating a VM from user-image or a specialized VHD. Possible values are: Windows, Linux."},"options":["os-type"],"type":"string","var":"$resource.properties.storageProfile.osDisk.osType"}],"help":{"short":"VHD to attach as OS disk"},"options":["os-disk"],"type":"object","var":"$resource.properties.storageProfile.osDisk"},{"help":{"short":"Id of the storage container that hosts the VM configuration file"},"options":["vm-config-storage-path-id"],"type":"ResourceId","var":"$resource.properties.storageProfile.vmConfigStoragePathId"}],"group":"Properties","help":{"short":"StorageProfile - contains information about the disks and storage information for the virtual machine instance"},"options":["storage-profile"],"type":"object","var":"$resource.properties.storageProfile"}],"name":"Properties"},{"args":[{"args":[{"help":{"short":"The name of the extended location."},"options":["name"],"type":"string","var":"$resource.extendedLocation.name"},{"enum":{"items":[{"name":"CustomLocation","value":"CustomLocation"}]},"help":{"short":"The type of the extended location."},"options":["type"],"type":"string","var":"$resource.extendedLocation.type"}],"group":"Resource","help":{"short":"The extendedLocation of the resource."},"options":["extended-location"],"type":"object","var":"$resource.extendedLocation"}],"name":"Resource"}],"operations":[{"http":{"path":"/{resourceUri}/providers/Microsoft.AzureStackHCI/virtualMachineInstances/default","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"resource","props":[{"arg":"$resource.extendedLocation","name":"extendedLocation","props":[{"arg":"$resource.extendedLocation.name","name":"name","type":"string"},{"arg":"$resource.extendedLocation.type","enum":{"items":[{"value":"CustomLocation"}]},"name":"type","type":"string"}],"type":"object"},{"name":"identity","props":[{"arg":"$resource.identity.type","enum":{"items":[{"value":"None"},{"value":"SystemAssigned"},{"value":"SystemAssigned,UserAssigned"},{"value":"UserAssigned"}]},"name":"type","required":true,"type":"string"},{"additionalProps":{"item":{"nullable":true,"type":"object"}},"arg":"$resource.identity.userAssignedIdentities","name":"userAssignedIdentities","type":"object"}],"systemAssigned":{"action":"create","arg":"$resource.identity.systemAssigned","name":"systemAssigned","type":"string"},"type":"IdentityObject","userAssigned":{"action":"create","arg":"$resource.identity.userAssigned","item":{"action":"create","type":"string"},"name":"userAssigned","type":"array<string>"}},{"clientFlatten":true,"name":"properties","props":[{"arg":"$resource.properties.createFromLocal","default":{"value":false},"name":"createFromLocal","type":"boolean"},{"arg":"$resource.properties.hardwareProfile","name":"hardwareProfile","props":[{"arg":"$resource.properties.hardwareProfile.dynamicMemoryConfig","name":"dynamicMemoryConfig","props":[{"arg":"$resource.properties.hardwareProfile.dynamicMemoryConfig.maximumMemoryMB","name":"maximumMemoryMB","type":"integer64"},{"arg":"$resource.properties.hardwareProfile.dynamicMemoryConfig.minimumMemoryMB","name":"minimumMemoryMB","type":"integer64"},{"arg":"$resource.properties.hardwareProfile.dynamicMemoryConfig.targetMemoryBuffer","name":"targetMemoryBuffer","type":"integer32"}],"type":"object"},{"arg":"$resource.properties.hardwareProfile.memoryMB","name":"memoryMB","type":"integer64"},{"arg":"$resource.properties.hardwareProfile.processors","name":"processors","type":"integer32"},{"arg":"$resource.properties.hardwareProfile.virtualMachineGPUs","item":{"props":[{"arg":"$resource.properties.hardwareProfile.virtualMachineGPUs[].assignmentType","enum":{"items":[{"value":"GpuDDA"},{"value":"GpuP"}]},"name":"assignmentType","required":true,"type":"string"},{"arg":"$resource.properties.hardwareProfile.virtualMachineGPUs[].gpuName","name":"gpuName","type":"string"},{"arg":"$resource.properties.hardwareProfile.virtualMachineGPUs[].partitionSizeMB","name":"partitionSizeMB","type":"integer64"}],"type":"object"},"name":"virtualMachineGPUs","type":"array<object>"},{"arg":"$resource.properties.hardwareProfile.vmSize","default":{"value":"Default"},"enum":{"items":[{"value":"Custom"},{"value":"Default"},{"value":"Standard_A2_v2"},{"value":"Standard_A4_v2"},{"value":"Standard_D16s_v3"},{"value":"Standard_D2s_v3"},{"value":"Standard_D32s_v3"},{"value":"Standard_D4s_v3"},{"value":"Standard_D8s_v3"},{"value":"Standard_DS13_v2"},{"value":"Standard_DS2_v2"},{"value":"Standard_DS3_v2"},{"value":"Standard_DS4_v2"},{"value":"Standard_DS5_v2"},{"value":"Standard_K8S2_v1"},{"value":"Standard_K8S3_v1"},{"value":"Standard_K8S4_v1"},{"value":"Standard_K8S5_v1"},{"value":"Standard_K8S_v1"},{"value":"Standard_NK12"},{"value":"Standard_NK6"},{"value":"Standard_NV12"},{"value":"Standard_NV6"}]},"name":"vmSize","type":"string"}],"type":"object"},{"arg":"$resource.properties.httpProxyConfig","name":"httpProxyConfig","props":[{"arg":"$resource.properties.httpProxyConfig.httpProxy","name":"httpProxy","secret":true,"type":"password"},{"arg":"$resource.properties.httpProxyConfig.httpsProxy","name":"httpsProxy","secret":true,"type":"password"},{"arg":"$resource.properties.httpProxyConfig.noProxy","item":{"type":"string"},"name":"noProxy","type":"array<string>"},{"arg":"$resource.properties.httpProxyConfig.trustedCa","name":"trustedCa","type":"string"}],"type":"object"},{"arg":"$resource.properties.networkProfile","name":"networkProfile","props":[{"arg":"$resource.properties.networkProfile.networkInterfaces","item":{"props":[{"arg":"$resource.properties.networkProfile.networkInterfaces[].id","name":"id","type":"ResourceId"}],"type":"object"},"name":"networkInterfaces","type":"array<object>"}],"type":"object"},{"arg":"$resource.properties.osProfile","name":"osProfile","props":[{"arg":"$resource.properties.osProfile.adminPassword","name":"adminPassword","secret":true,"type":"password"},{"arg":"$resource.properties.osProfile.adminUsername","name":"adminUsername","type":"string"},{"arg":"$resource.properties.osProfile.computerName","name":"computerName","type":"string"},{"arg":"$resource.properties.osProfile.linuxConfiguration","name":"linuxConfiguration","props":[{"arg":"$resource.properties.osProfile.linuxConfiguration.disablePasswordAuthentication","name":"disablePasswordAuthentication","type":"boolean"},{"arg":"$resource.properties.osProfile.linuxConfiguration.provisionVMAgent","default":{"value":true},"name":"provisionVMAgent","type":"boolean"},{"arg":"$resource.properties.osProfile.linuxConfiguration.provisionVMConfigAgent","default":{"value":true},"name":"provisionVMConfigAgent","type":"boolean"},{"arg":"$resource.properties.osProfile.linuxConfiguration.ssh","cls":"SshConfiguration_create","name":"ssh","props":[{"arg":"@SshConfiguration_create.publicKeys","identifiers":["path"],"item":{"props":[{"arg":"@SshConfiguration_create.publicKeys[].keyData","name":"keyData","type":"string"},{"arg":"@SshConfiguration_create.publicKeys[].path","name":"path","type":"string"}],"type":"object"},"name":"publicKeys","type":"array<object>"}],"type":"object"}],"type":"object"},{"arg":"$resource.properties.osProfile.windowsConfiguration","name":"windowsConfiguration","props":[{"arg":"$resource.properties.osProfile.windowsConfiguration.enableAutomaticUpdates","name":"enableAutomaticUpdates","type":"boolean"},{"arg":"$resource.properties.osProfile.windowsConfiguration.provisionVMAgent","default":{"value":true},"name":"provisionVMAgent","type":"boolean"},{"arg":"$resource.properties.osProfile.windowsConfiguration.provisionVMConfigAgent","default":{"value":true},"name":"provisionVMConfigAgent","type":"boolean"},{"arg":"$resource.properties.osProfile.windowsConfiguration.ssh","name":"ssh","type":"@SshConfiguration_create"},{"arg":"$resource.properties.osProfile.windowsConfiguration.timeZone","name":"timeZone","type":"string"}],"type":"object"}],"type":"object"},{"arg":"$resource.properties.placementProfile","name":"placementProfile","props":[{"arg":"$resource.properties.placementProfile.strictPlacementPolicy","name":"strictPlacementPolicy","type":"boolean"},{"arg":"$resource.properties.placementProfile.zone","name":"zone","type":"string"}],"type":"object"},{"arg":"$resource.properties.resourceUid","name":"resourceUid","type":"string"},{"arg":"$resource.properties.securityProfile","name":"securityProfile","props":[{"arg":"$resource.properties.securityProfile.enableTPM","default":{"value":false},"name":"enableTPM","type":"boolean"},{"arg":"$resource.properties.securityProfile.securityType","enum":{"items":[{"value":"ConfidentialVM"},{"value":"TrustedLaunch"}]},"name":"securityType","type":"string"},{"arg":"$resource.properties.securityProfile.uefiSettings","name":"uefiSettings","props":[{"arg":"$resource.properties.securityProfile.uefiSettings.secureBootEnabled","default":{"value":false},"name":"secureBootEnabled","type":"boolean"}],"type":"object"}],"type":"object"},{"arg":"$resource.properties.storageProfile","name":"storageProfile","props":[{"arg":"$resource.properties.storageProfile.dataDisks","item":{"props":[{"arg":"$resource.properties.storageProfile.dataDisks[].id","name":"id","type":"ResourceId"}],"type":"object"},"name":"dataDisks","type":"array<object>"},{"arg":"$resource.properties.storageProfile.imageReference","name":"imageReference","props":[{"arg":"$resource.properties.storageProfile.imageReference.id","name":"id","type":"ResourceId"}],"type":"object"},{"arg":"$resource.properties.storageProfile.osDisk","name":"osDisk","props":[{"arg":"$resource.properties.storageProfile.osDisk.id","name":"id","type":"ResourceId"},{"arg":"$resource.properties.storageProfile.osDisk.managedDisk","name":"managedDisk","props":[{"arg":"$resource.properties.storageProfile.osDisk.managedDisk.securityProfile","name":"securityProfile","props":[{"arg":"$resource.properties.storageProfile.osDisk.managedDisk.securityProfile.securityEncryptionType","enum":{"items":[{"value":"NonPersistedTPM"}]},"name":"securityEncryptionType","type":"string"}],"type":"object"}],"type":"object"},{"arg":"$resource.properties.storageProfile.osDisk.osType","enum":{"items":[{"value":"Linux"},{"value":"Windows"}]},"name":"osType","type":"string"}],"type":"object"},{"arg":"$resource.properties.storageProfile.vmConfigStoragePathId","name":"vmConfigStoragePathId","type":"ResourceId"}],"type":"object"}],"type":"object"}],"required":true,"type":"object"}}},"method":"put","path":{"params":[{"arg":"$Path.resourceUri","name":"resourceUri","required":true,"skipUrlEncoding":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2025-04-01-preview"},"format":{"minLength":1},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"name":"extendedLocation","props":[{"name":"name","type":"string"},{"enum":{"items":[{"value":"CustomLocation"}]},"name":"type","type":"string"}],"type":"object"},{"format":{"template":"/{resourceUri}/providers/Microsoft.AzureStackHCI/virtualMachineInstances/default"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"identity","props":[{"name":"principalId","readOnly":true,"type":"uuid"},{"name":"tenantId","readOnly":true,"type":"uuid"},{"enum":{"items":[{"value":"None"},{"value":"SystemAssigned"},{"value":"SystemAssigned,UserAssigned"},{"value":"UserAssigned"}]},"name":"type","required":true,"type":"string"},{"additionalProps":{"item":{"nullable":true,"props":[{"name":"clientId","readOnly":true,"type":"uuid"},{"name":"principalId","readOnly":true,"type":"uuid"}],"type":"object"}},"name":"userAssignedIdentities","type":"object"}],"type":"IdentityObject"},{"name":"name","readOnly":true,"type":"string"},{"clientFlatten":true,"name":"properties","props":[{"default":{"value":false},"name":"createFromLocal","type":"boolean"},{"name":"guestAgentInstallStatus","props":[{"name":"agentVersion","readOnly":true,"type":"string"},{"item":{"cls":"ErrorDetail_read","props":[{"item":{"props":[{"additionalProps":{"item":{"type":"any"},"readOnly":true},"name":"info","readOnly":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"name":"additionalInfo","readOnly":true,"type":"array<object>"},{"name":"code","readOnly":true,"type":"string"},{"identifiers":["target","message"],"item":{"type":"@ErrorDetail_read"},"name":"details","readOnly":true,"type":"array<@ErrorDetail_read>"},{"name":"message","readOnly":true,"type":"string"},{"name":"target","readOnly":true,"type":"string"}],"type":"object"},"name":"errorDetails","readOnly":true,"type":"array<object>"},{"format":{"protocol":"iso"},"name":"lastStatusChange","readOnly":true,"type":"dateTime"},{"enum":{"items":[{"value":"Failed"},{"value":"InProgress"},{"value":"Succeeded"}]},"name":"status","readOnly":true,"type":"string"},{"name":"vmUuid","readOnly":true,"type":"string"}],"type":"object"},{"name":"hardwareProfile","props":[{"name":"dynamicMemoryConfig","props":[{"name":"maximumMemoryMB","type":"integer64"},{"name":"minimumMemoryMB","type":"integer64"},{"name":"targetMemoryBuffer","type":"integer32"}],"type":"object"},{"name":"memoryMB","type":"integer64"},{"name":"processors","type":"integer32"},{"item":{"props":[{"enum":{"items":[{"value":"GpuDDA"},{"value":"GpuP"}]},"name":"assignmentType","required":true,"type":"string"},{"name":"gpuName","type":"string"},{"name":"partitionSizeMB","type":"integer64"}],"type":"object"},"name":"virtualMachineGPUs","type":"array<object>"},{"default":{"value":"Default"},"enum":{"items":[{"value":"Custom"},{"value":"Default"},{"value":"Standard_A2_v2"},{"value":"Standard_A4_v2"},{"value":"Standard_D16s_v3"},{"value":"Standard_D2s_v3"},{"value":"Standard_D32s_v3"},{"value":"Standard_D4s_v3"},{"value":"Standard_D8s_v3"},{"value":"Standard_DS13_v2"},{"value":"Standard_DS2_v2"},{"value":"Standard_DS3_v2"},{"value":"Standard_DS4_v2"},{"value":"Standard_DS5_v2"},{"value":"Standard_K8S2_v1"},{"value":"Standard_K8S3_v1"},{"value":"Standard_K8S4_v1"},{"value":"Standard_K8S5_v1"},{"value":"Standard_K8S_v1"},{"value":"Standard_NK12"},{"value":"Standard_NK6"},{"value":"Standard_NV12"},{"value":"Standard_NV6"}]},"name":"vmSize","type":"string"}],"type":"object"},{"name":"hostNodeName","readOnly":true,"type":"string"},{"name":"httpProxyConfig","props":[{"name":"httpProxy","secret":true,"type":"password"},{"name":"httpsProxy","secret":true,"type":"password"},{"item":{"type":"string"},"name":"noProxy","type":"array<string>"},{"name":"trustedCa","type":"string"}],"type":"object"},{"name":"hyperVVmId","readOnly":true,"type":"string"},{"name":"instanceView","props":[{"name":"vmAgent","props":[{"item":{"props":[{"name":"code","type":"string"},{"name":"displayStatus","type":"string"},{"enum":{"items":[{"value":"Error"},{"value":"Info"},{"value":"Warning"}]},"name":"level","type":"string"},{"name":"message","type":"string"},{"format":{"protocol":"iso"},"name":"time","type":"dateTime"}],"type":"object"},"name":"statuses","type":"array<object>"},{"name":"vmConfigAgentVersion","type":"string"}],"type":"object"}],"readOnly":true,"type":"object"},{"name":"networkProfile","props":[{"item":{"props":[{"name":"id","type":"ResourceId"}],"type":"object"},"name":"networkInterfaces","type":"array<object>"}],"type":"object"},{"name":"osProfile","props":[{"name":"adminUsername","type":"string"},{"name":"computerName","type":"string"},{"name":"linuxConfiguration","props":[{"name":"disablePasswordAuthentication","type":"boolean"},{"default":{"value":true},"name":"provisionVMAgent","type":"boolean"},{"default":{"value":true},"name":"provisionVMConfigAgent","type":"boolean"},{"cls":"SshConfiguration_read","name":"ssh","props":[{"identifiers":["path"],"item":{"props":[{"name":"keyData","type":"string"},{"name":"path","type":"string"}],"type":"object"},"name":"publicKeys","type":"array<object>"}],"type":"object"}],"type":"object"},{"name":"windowsConfiguration","props":[{"name":"enableAutomaticUpdates","type":"boolean"},{"default":{"value":true},"name":"provisionVMAgent","type":"boolean"},{"default":{"value":true},"name":"provisionVMConfigAgent","type":"boolean"},{"name":"ssh","type":"@SshConfiguration_read"},{"name":"timeZone","type":"string"}],"type":"object"}],"type":"object"},{"name":"placementProfile","props":[{"name":"strictPlacementPolicy","type":"boolean"},{"name":"zone","type":"string"}],"type":"object"},{"enum":{"items":[{"value":"Accepted"},{"value":"Canceled"},{"value":"Deleting"},{"value":"Failed"},{"value":"InProgress"},{"value":"Succeeded"}]},"name":"provisioningState","readOnly":true,"type":"string"},{"name":"resourceUid","type":"string"},{"name":"securityProfile","props":[{"default":{"value":false},"name":"enableTPM","type":"boolean"},{"enum":{"items":[{"value":"ConfidentialVM"},{"value":"TrustedLaunch"}]},"name":"securityType","type":"string"},{"name":"uefiSettings","props":[{"default":{"value":false},"name":"secureBootEnabled","type":"boolean"}],"type":"object"}],"type":"object"},{"name":"status","props":[{"name":"errorCode","type":"string"},{"name":"errorMessage","type":"string"},{"enum":{"items":[{"value":"Deallocated"},{"value":"Deallocating"},{"value":"Paused"},{"value":"Running"},{"value":"Saved"},{"value":"Starting"},{"value":"Stopped"},{"value":"Stopping"},{"value":"Unknown"}]},"name":"powerState","type":"string"},{"name":"provisioningStatus","props":[{"name":"operationId","type":"string"},{"enum":{"items":[{"value":"Failed"},{"value":"InProgress"},{"value":"Succeeded"}]},"name":"status","readOnly":true,"type":"string"}],"type":"object"}],"readOnly":true,"type":"object"},{"name":"storageProfile","props":[{"item":{"props":[{"name":"id","type":"ResourceId"}],"type":"object"},"name":"dataDisks","type":"array<object>"},{"name":"imageReference","props":[{"name":"id","type":"ResourceId"}],"type":"object"},{"name":"osDisk","props":[{"name":"id","type":"ResourceId"},{"name":"managedDisk","props":[{"name":"securityProfile","props":[{"enum":{"items":[{"value":"NonPersistedTPM"}]},"name":"securityEncryptionType","type":"string"}],"type":"object"}],"type":"object"},{"enum":{"items":[{"value":"Linux"},{"value":"Windows"}]},"name":"osType","type":"string"}],"type":"object"},{"name":"vmConfigStoragePathId","type":"ResourceId"}],"type":"object"},{"name":"vmId","readOnly":true,"type":"string"}],"type":"object"},{"name":"systemData","props":[{"format":{"protocol":"iso"},"name":"createdAt","type":"dateTime"},{"name":"createdBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"createdByType","type":"string"},{"format":{"protocol":"iso"},"name":"lastModifiedAt","type":"dateTime"},{"name":"lastModifiedBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"lastModifiedByType","type":"string"}],"readOnly":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[200,201]},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"longRunning":{"finalStateVia":"azure-async-operation"},"operationId":"VirtualMachineInstances_CreateOrUpdate"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/{resourceuri}/providers/microsoft.azurestackhci/virtualmachineinstances/default","plane":"mgmt-plane"}]}