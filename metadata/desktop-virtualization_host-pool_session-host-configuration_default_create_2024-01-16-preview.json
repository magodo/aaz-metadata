{"argGroups":[{"args":[{"format":{"maxLength":64,"minLength":3},"help":{"short":"The name of the host pool within the specified resource group"},"idPart":"name","options":["host-pool-name"],"required":true,"type":"string","var":"$Path.hostPoolName"},{"idPart":"resource_group","options":["g","resource-group"],"required":true,"type":"ResourceGroupName","var":"$Path.resourceGroupName"},{"idPart":"subscription","options":["subscription"],"required":true,"type":"SubscriptionId","var":"$Path.subscriptionId"}],"name":""},{"args":[{"group":"Properties","help":{"short":"Value for availability zones to be used by the session host. Should be from [1,2,3]."},"item":{"type":"integer32"},"options":["availability-zones"],"type":"array<integer32>","var":"$sessionHostConfiguration.properties.availabilityZones"},{"args":[{"help":{"short":"Whether boot diagnostics should be enabled on the Virtual Machine."},"options":["enabled"],"type":"boolean","var":"$sessionHostConfiguration.properties.bootDiagnosticsInfo.enabled"},{"help":{"short":"Uri of the storage account to use for placing the console output and screenshot. <br><br>If storageUri is not specified while enabling boot diagnostics, managed storage will be used."},"options":["storage-uri"],"type":"string","var":"$sessionHostConfiguration.properties.bootDiagnosticsInfo.storageUri"}],"group":"Properties","help":{"short":"Boot Diagnostics information."},"options":["boot-diagnostics-info"],"type":"object","var":"$sessionHostConfiguration.properties.bootDiagnosticsInfo"},{"group":"Properties","help":{"short":"The uri to the storage blob containing the arm template to be run on the virtual machine after provisioning."},"options":["custom-configuration-script-url"],"type":"string","var":"$sessionHostConfiguration.properties.customConfigurationScriptUrl"},{"args":[{"enum":{"items":[{"name":"Premium_LRS","value":"Premium_LRS"},{"name":"StandardSSD_LRS","value":"StandardSSD_LRS"},{"name":"Standard_LRS","value":"Standard_LRS"}]},"help":{"short":"The disk type used by virtual machine in hostpool session host."},"options":["type"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.diskInfo.type"}],"group":"Properties","help":{"short":"Disk information."},"options":["disk-info"],"required":true,"type":"object","var":"$sessionHostConfiguration.properties.diskInfo"},{"args":[{"args":[{"args":[{"help":{"short":"The uri to access the secret that the password is stored in."},"options":["password-key-vault-secret-uri"],"required":true,"type":"string","var":"@KeyVaultCredentialsProperties_create.passwordKeyVaultSecretUri"},{"help":{"short":"The uri to access the secret that the username is stored in."},"options":["username-key-vault-secret-uri"],"required":true,"type":"string","var":"@KeyVaultCredentialsProperties_create.usernameKeyVaultSecretUri"}],"cls":"KeyVaultCredentialsProperties_create","help":{"short":"Credentials needed to create the virtual machine."},"options":["domain-credentials"],"required":true,"type":"object","var":"$sessionHostConfiguration.properties.domainInfo.activeDirectoryInfo.domainCredentials"},{"help":{"short":"The domain a virtual machine connected to a hostpool will join."},"options":["domain-name"],"type":"string","var":"$sessionHostConfiguration.properties.domainInfo.activeDirectoryInfo.domainName"},{"help":{"short":"The ou path."},"options":["ou-path"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.domainInfo.activeDirectoryInfo.ouPath"}],"help":{"short":"Active directory info. Only one should be populated based on the join type."},"options":["active-directory-info"],"type":"object","var":"$sessionHostConfiguration.properties.domainInfo.activeDirectoryInfo"},{"args":[{"help":{"short":"The mdm guid."},"options":["mdm-provider-guid"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.domainInfo.azureActiveDirectoryInfo.mdmProviderGuid"}],"help":{"short":"Azure active directory info. Only one should be populated based on the join type."},"options":["azure-active-directory-info"],"type":"object","var":"$sessionHostConfiguration.properties.domainInfo.azureActiveDirectoryInfo"},{"enum":{"items":[{"name":"ActiveDirectory","value":"ActiveDirectory"},{"name":"AzureActiveDirectory","value":"AzureActiveDirectory"}]},"help":{"short":"The type of domain join done by the virtual machine."},"options":["join-type"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.domainInfo.joinType"}],"group":"Properties","help":{"short":"Domain configurations of session hosts."},"options":["domain-info"],"required":true,"type":"object","var":"$sessionHostConfiguration.properties.domainInfo"},{"format":{"maxLength":260},"group":"Properties","help":{"short":"Friendly name to describe this version of the SessionHostConfiguration."},"options":["friendly-name"],"type":"string","var":"$sessionHostConfiguration.properties.friendlyName"},{"args":[{"args":[{"help":{"short":"The resource id of the custom image."},"options":["resource-id"],"required":true,"type":"ResourceId","var":"$sessionHostConfiguration.properties.imageInfo.customInfo.resourceId"}],"help":{"short":"The values to uniquely identify a custom image. Only one should be populated based on the image type."},"options":["custom-info"],"type":"object","var":"$sessionHostConfiguration.properties.imageInfo.customInfo"},{"args":[{"help":{"short":"The exact version of the image."},"options":["exact-version"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo.exactVersion"},{"help":{"short":"The offer of the image."},"options":["offer"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo.offer"},{"help":{"short":"The publisher of the image."},"options":["publisher"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo.publisher"},{"help":{"short":"The sku of the image."},"options":["sku"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo.sku"}],"help":{"short":"The values to uniquely identify a marketplace image. Only one should be populated based on the image type."},"options":["marketplace-info"],"type":"object","var":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo"},{"enum":{"items":[{"name":"Custom","value":"Custom"},{"name":"Marketplace","value":"Marketplace"}]},"help":{"short":"The type of image session hosts use in the hostpool."},"options":["type"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.imageInfo.type"}],"group":"Properties","help":{"short":"Image configurations of HostPool."},"options":["image-info"],"required":true,"type":"object","var":"$sessionHostConfiguration.properties.imageInfo"},{"args":[{"help":{"short":"The resource ID of the security group. Any allowable/open ports should be specified in the NSG."},"options":["security-group-id"],"type":"string","var":"$sessionHostConfiguration.properties.networkInfo.securityGroupId"},{"help":{"short":"The resource ID of the subnet."},"options":["subnet-id"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.networkInfo.subnetId"}],"group":"Properties","help":{"short":"Network information."},"options":["network-info"],"required":true,"type":"object","var":"$sessionHostConfiguration.properties.networkInfo"},{"args":[{"help":{"short":"Whether to use secureBoot on the virtual machine."},"options":["secure-boot-enabled"],"type":"boolean","var":"$sessionHostConfiguration.properties.securityInfo.secureBootEnabled"},{"default":{"value":"Standard"},"enum":{"items":[{"name":"ConfidentialVM","value":"ConfidentialVM"},{"name":"Standard","value":"Standard"},{"name":"TrustedLaunch","value":"TrustedLaunch"}]},"help":{"short":"The security type used by virtual machine in hostpool session host. Default is Standard."},"options":["type"],"type":"string","var":"$sessionHostConfiguration.properties.securityInfo.type"},{"help":{"short":"Whether to use vTPM on the virtual machine."},"options":["v-tpm-enabled"],"type":"boolean","var":"$sessionHostConfiguration.properties.securityInfo.vTpmEnabled"}],"group":"Properties","help":{"short":"Security information."},"options":["security-info"],"type":"object","var":"$sessionHostConfiguration.properties.securityInfo"},{"group":"Properties","help":{"short":"Local Admin credentials for session hosts."},"options":["vm-admin-credentials"],"required":true,"type":"@KeyVaultCredentialsProperties_create","var":"$sessionHostConfiguration.properties.vmAdminCredentials"},{"group":"Properties","help":{"short":"The Location for the session host to be created in. It will default to the location of the hostpool if not provided."},"options":["vm-location"],"type":"string","var":"$sessionHostConfiguration.properties.vmLocation"},{"format":{"maxLength":11},"group":"Properties","help":{"short":"The prefix that should be associated with session host names"},"options":["vm-name-prefix"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.vmNamePrefix"},{"group":"Properties","help":{"short":"The ResourceGroup for the session hosts to be created in. It will default to the ResourceGroup of the hostpool if not provided."},"options":["vm-resource-group"],"type":"string","var":"$sessionHostConfiguration.properties.vmResourceGroup"},{"group":"Properties","help":{"short":"The id of the size of a virtual machine connected to a hostpool."},"options":["vm-size-id"],"required":true,"type":"string","var":"$sessionHostConfiguration.properties.vmSizeId"},{"additionalProps":{"item":{"type":"string"}},"group":"Properties","help":{"short":"Hashtable that lists key/value pair tags to apply to the VMs"},"options":["vm-tags"],"type":"object","var":"$sessionHostConfiguration.properties.vmTags"}],"name":"Properties"}],"operations":[{"http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DesktopVirtualization/hostPools/{hostPoolName}/sessionHostConfigurations/default","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"sessionHostConfiguration","props":[{"clientFlatten":true,"name":"properties","props":[{"arg":"$sessionHostConfiguration.properties.availabilityZones","item":{"type":"integer32"},"name":"availabilityZones","type":"array<integer32>"},{"arg":"$sessionHostConfiguration.properties.bootDiagnosticsInfo","name":"bootDiagnosticsInfo","props":[{"arg":"$sessionHostConfiguration.properties.bootDiagnosticsInfo.enabled","name":"enabled","type":"boolean"},{"arg":"$sessionHostConfiguration.properties.bootDiagnosticsInfo.storageUri","name":"storageUri","type":"string"}],"type":"object"},{"arg":"$sessionHostConfiguration.properties.customConfigurationScriptUrl","name":"customConfigurationScriptUrl","type":"string"},{"arg":"$sessionHostConfiguration.properties.diskInfo","name":"diskInfo","props":[{"arg":"$sessionHostConfiguration.properties.diskInfo.type","enum":{"items":[{"value":"Premium_LRS"},{"value":"StandardSSD_LRS"},{"value":"Standard_LRS"}]},"name":"type","required":true,"type":"string"}],"required":true,"type":"object"},{"arg":"$sessionHostConfiguration.properties.domainInfo","name":"domainInfo","props":[{"arg":"$sessionHostConfiguration.properties.domainInfo.activeDirectoryInfo","name":"activeDirectoryInfo","props":[{"arg":"$sessionHostConfiguration.properties.domainInfo.activeDirectoryInfo.domainCredentials","cls":"KeyVaultCredentialsProperties_create","name":"domainCredentials","props":[{"arg":"@KeyVaultCredentialsProperties_create.passwordKeyVaultSecretUri","name":"passwordKeyVaultSecretUri","required":true,"type":"string"},{"arg":"@KeyVaultCredentialsProperties_create.usernameKeyVaultSecretUri","name":"usernameKeyVaultSecretUri","required":true,"type":"string"}],"required":true,"type":"object"},{"arg":"$sessionHostConfiguration.properties.domainInfo.activeDirectoryInfo.domainName","name":"domainName","type":"string"},{"arg":"$sessionHostConfiguration.properties.domainInfo.activeDirectoryInfo.ouPath","name":"ouPath","required":true,"type":"string"}],"type":"object"},{"arg":"$sessionHostConfiguration.properties.domainInfo.azureActiveDirectoryInfo","name":"azureActiveDirectoryInfo","props":[{"arg":"$sessionHostConfiguration.properties.domainInfo.azureActiveDirectoryInfo.mdmProviderGuid","name":"mdmProviderGuid","required":true,"type":"string"}],"type":"object"},{"arg":"$sessionHostConfiguration.properties.domainInfo.joinType","enum":{"items":[{"value":"ActiveDirectory"},{"value":"AzureActiveDirectory"}]},"name":"joinType","required":true,"type":"string"}],"required":true,"type":"object"},{"arg":"$sessionHostConfiguration.properties.friendlyName","format":{"maxLength":260},"name":"friendlyName","type":"string"},{"arg":"$sessionHostConfiguration.properties.imageInfo","name":"imageInfo","props":[{"arg":"$sessionHostConfiguration.properties.imageInfo.customInfo","name":"customInfo","props":[{"arg":"$sessionHostConfiguration.properties.imageInfo.customInfo.resourceId","name":"resourceId","required":true,"type":"ResourceId"}],"type":"object"},{"arg":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo","name":"marketplaceInfo","props":[{"arg":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo.exactVersion","name":"exactVersion","required":true,"type":"string"},{"arg":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo.offer","name":"offer","required":true,"type":"string"},{"arg":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo.publisher","name":"publisher","required":true,"type":"string"},{"arg":"$sessionHostConfiguration.properties.imageInfo.marketplaceInfo.sku","name":"sku","required":true,"type":"string"}],"type":"object"},{"arg":"$sessionHostConfiguration.properties.imageInfo.type","enum":{"items":[{"value":"Custom"},{"value":"Marketplace"}]},"name":"type","required":true,"type":"string"}],"required":true,"type":"object"},{"arg":"$sessionHostConfiguration.properties.networkInfo","name":"networkInfo","props":[{"arg":"$sessionHostConfiguration.properties.networkInfo.securityGroupId","name":"securityGroupId","type":"string"},{"arg":"$sessionHostConfiguration.properties.networkInfo.subnetId","name":"subnetId","required":true,"type":"string"}],"required":true,"type":"object"},{"arg":"$sessionHostConfiguration.properties.securityInfo","name":"securityInfo","props":[{"arg":"$sessionHostConfiguration.properties.securityInfo.secureBootEnabled","name":"secureBootEnabled","type":"boolean"},{"arg":"$sessionHostConfiguration.properties.securityInfo.type","default":{"value":"Standard"},"enum":{"items":[{"value":"ConfidentialVM"},{"value":"Standard"},{"value":"TrustedLaunch"}]},"name":"type","type":"string"},{"arg":"$sessionHostConfiguration.properties.securityInfo.vTpmEnabled","name":"vTpmEnabled","type":"boolean"}],"type":"object"},{"arg":"$sessionHostConfiguration.properties.vmAdminCredentials","name":"vmAdminCredentials","required":true,"type":"@KeyVaultCredentialsProperties_create"},{"arg":"$sessionHostConfiguration.properties.vmLocation","name":"vmLocation","type":"string"},{"arg":"$sessionHostConfiguration.properties.vmNamePrefix","format":{"maxLength":11},"name":"vmNamePrefix","required":true,"type":"string"},{"arg":"$sessionHostConfiguration.properties.vmResourceGroup","name":"vmResourceGroup","type":"string"},{"arg":"$sessionHostConfiguration.properties.vmSizeId","name":"vmSizeId","required":true,"type":"string"},{"additionalProps":{"item":{"type":"string"}},"arg":"$sessionHostConfiguration.properties.vmTags","name":"vmTags","type":"object"}],"required":true,"type":"object"}],"required":true,"type":"object"}}},"method":"put","path":{"params":[{"arg":"$Path.hostPoolName","format":{"maxLength":64,"minLength":3},"name":"hostPoolName","required":true,"type":"string"},{"arg":"$Path.resourceGroupName","format":{"maxLength":90,"minLength":1},"name":"resourceGroupName","required":true,"type":"string"},{"arg":"$Path.subscriptionId","format":{"minLength":1},"name":"subscriptionId","required":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2024-01-16-preview"},"format":{"minLength":1},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.DesktopVirtualization/hostPools/{}/sessionHostConfigurations/default"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"name","readOnly":true,"type":"string"},{"clientFlatten":true,"name":"properties","props":[{"item":{"type":"integer32"},"name":"availabilityZones","type":"array<integer32>"},{"name":"bootDiagnosticsInfo","props":[{"name":"enabled","type":"boolean"},{"name":"storageUri","type":"string"}],"type":"object"},{"name":"customConfigurationScriptUrl","type":"string"},{"name":"diskInfo","props":[{"enum":{"items":[{"value":"Premium_LRS"},{"value":"StandardSSD_LRS"},{"value":"Standard_LRS"}]},"name":"type","required":true,"type":"string"}],"required":true,"type":"object"},{"name":"domainInfo","props":[{"name":"activeDirectoryInfo","props":[{"cls":"KeyVaultCredentialsProperties_read","name":"domainCredentials","props":[{"name":"passwordKeyVaultSecretUri","required":true,"type":"string"},{"name":"usernameKeyVaultSecretUri","required":true,"type":"string"}],"required":true,"type":"object"},{"name":"domainName","type":"string"},{"name":"ouPath","required":true,"type":"string"}],"type":"object"},{"name":"azureActiveDirectoryInfo","props":[{"name":"mdmProviderGuid","required":true,"type":"string"}],"type":"object"},{"enum":{"items":[{"value":"ActiveDirectory"},{"value":"AzureActiveDirectory"}]},"name":"joinType","required":true,"type":"string"}],"required":true,"type":"object"},{"format":{"maxLength":260},"name":"friendlyName","type":"string"},{"name":"imageInfo","props":[{"name":"customInfo","props":[{"name":"resourceId","required":true,"type":"ResourceId"}],"type":"object"},{"name":"marketplaceInfo","props":[{"name":"exactVersion","required":true,"type":"string"},{"name":"offer","required":true,"type":"string"},{"name":"publisher","required":true,"type":"string"},{"name":"sku","required":true,"type":"string"}],"type":"object"},{"enum":{"items":[{"value":"Custom"},{"value":"Marketplace"}]},"name":"type","required":true,"type":"string"}],"required":true,"type":"object"},{"name":"networkInfo","props":[{"name":"securityGroupId","type":"string"},{"name":"subnetId","required":true,"type":"string"}],"required":true,"type":"object"},{"enum":{"items":[{"value":"Canceled"},{"value":"Failed"},{"value":"Provisioning"},{"value":"Succeeded"}]},"name":"provisioningState","readOnly":true,"type":"string"},{"name":"securityInfo","props":[{"name":"secureBootEnabled","type":"boolean"},{"default":{"value":"Standard"},"enum":{"items":[{"value":"ConfidentialVM"},{"value":"Standard"},{"value":"TrustedLaunch"}]},"name":"type","type":"string"},{"name":"vTpmEnabled","type":"boolean"}],"type":"object"},{"format":{"protocol":"iso"},"name":"version","readOnly":true,"type":"dateTime"},{"name":"vmAdminCredentials","required":true,"type":"@KeyVaultCredentialsProperties_read"},{"name":"vmLocation","type":"string"},{"format":{"maxLength":11},"name":"vmNamePrefix","required":true,"type":"string"},{"name":"vmResourceGroup","type":"string"},{"name":"vmSizeId","required":true,"type":"string"},{"additionalProps":{"item":{"type":"string"}},"name":"vmTags","type":"object"}],"required":true,"type":"object"},{"name":"systemData","props":[{"format":{"protocol":"iso"},"name":"createdAt","type":"dateTime"},{"name":"createdBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"createdByType","type":"string"},{"format":{"protocol":"iso"},"name":"lastModifiedAt","type":"dateTime"},{"name":"lastModifiedBy","type":"string"},{"enum":{"items":[{"value":"Application"},{"value":"Key"},{"value":"ManagedIdentity"},{"value":"User"}]},"name":"lastModifiedByType","type":"string"}],"readOnly":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"header":{"items":[{"name":"Azure-AsyncOperation"}]},"statusCode":[200,201]},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"longRunning":{"finalStateVia":"azure-async-operation"},"operationId":"SessionHostConfigurations_CreateOrUpdate"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.desktopvirtualization/hostpools/{}/sessionhostconfigurations/default","plane":"mgmt-plane"}]}