{"argGroups":[{"args":[{"format":{"maxLength":24,"minLength":3,"pattern":"^[a-zA-Z0-9]+$"},"help":{"short":"The name of the Batch account."},"idPart":"name","options":["n","name","account-name"],"required":true,"type":"string","var":"$Path.accountName"},{"idPart":"resource_group","options":["g","resource-group"],"required":true,"type":"ResourceGroupName","var":"$Path.resourceGroupName"},{"idPart":"subscription","options":["subscription"],"required":true,"type":"SubscriptionId","var":"$Path.subscriptionId"}],"name":""},{"args":[{"blank":{"value":"True"},"group":"Identity","help":{"short":"Set the system managed identity."},"options":["system-assigned","mi-system-assigned"],"type":"string","var":"$parameters.identity.systemAssigned"},{"enum":{"items":[{"name":"None","value":"None"},{"name":"SystemAssigned","value":"SystemAssigned"},{"name":"UserAssigned","value":"UserAssigned"}]},"group":"Identity","help":{"short":"The type of identity used for the Batch account."},"hide":true,"options":["type"],"type":"string","var":"$parameters.identity.type"},{"blank":{"value":[]},"group":"Identity","help":{"short":"Set the user managed identities."},"item":{"type":"string"},"options":["user-assigned","mi-user-assigned"],"type":"array<string>","var":"$parameters.identity.userAssigned"},{"additionalProps":{"item":{"blank":{"value":{}},"type":"object"}},"group":"Identity","help":{"short":"The list of user identities associated with the Batch account."},"hide":true,"options":["user-assigned-identities"],"type":"object","var":"$parameters.identity.userAssignedIdentities"}],"name":"Identity"},{"args":[{"additionalProps":{"item":{"type":"string"}},"group":"Parameters","help":{"short":"The user-specified tags associated with the account."},"options":["tags"],"type":"object","var":"$parameters.tags"}],"name":"Parameters"},{"args":[{"group":"Properties","help":{"short":"List of allowed authentication modes for the Batch account that can be used to authenticate with the data plane. This does not affect authentication with the control plane."},"item":{"enum":{"items":[{"name":"AAD","value":"AAD"},{"name":"SharedKey","value":"SharedKey"},{"name":"TaskAuthenticationToken","value":"TaskAuthenticationToken"}]},"type":"string"},"nullable":true,"options":["allowed-authentication-modes"],"type":"array<string>","var":"$parameters.properties.allowedAuthenticationModes"},{"args":[{"default":{"value":"StorageKeys"},"enum":{"items":[{"name":"BatchAccountManagedIdentity","value":"BatchAccountManagedIdentity"},{"name":"StorageKeys","value":"StorageKeys"}]},"help":{"short":"The authentication mode which the Batch service will use to manage the auto-storage account."},"options":["authentication-mode"],"type":"string","var":"$parameters.properties.autoStorage.authenticationMode"},{"args":[{"help":{"short":"The ARM resource id of the user assigned identity."},"options":["resource-id"],"type":"string","var":"$parameters.properties.autoStorage.nodeIdentityReference.resourceId"}],"help":{"short":"The identity referenced here must be assigned to pools which have compute nodes that need access to auto-storage."},"options":["node-identity-reference"],"type":"object","var":"$parameters.properties.autoStorage.nodeIdentityReference"},{"help":{"short":"The resource ID of the storage account to be used for auto-storage account."},"options":["storage-account-id"],"required":true,"type":"ResourceId","var":"$parameters.properties.autoStorage.storageAccountId"}],"group":"Properties","help":{"short":"The properties related to the auto-storage account."},"options":["auto-storage"],"type":"object","var":"$parameters.properties.autoStorage"},{"args":[{"enum":{"items":[{"name":"Microsoft.Batch","value":"Microsoft.Batch"},{"name":"Microsoft.KeyVault","value":"Microsoft.KeyVault"}]},"help":{"short":"Type of the key source."},"options":["key-source"],"type":"string","var":"$parameters.properties.encryption.keySource"},{"args":[{"help":{"short":"Full path to the secret with or without version. Example https://mykeyvault.vault.azure.net/keys/testkey/6e34a81fef704045975661e297a4c053. or https://mykeyvault.vault.azure.net/keys/testkey. To be usable the following prerequisites must be met:   The Batch Account has a System Assigned identity  The account identity has been granted Key/Get, Key/Unwrap and Key/Wrap permissions  The KeyVault has soft-delete and purge protection enabled"},"options":["key-identifier"],"type":"string","var":"$parameters.properties.encryption.keyVaultProperties.keyIdentifier"}],"help":{"short":"Additional details when using Microsoft.KeyVault"},"options":["key-vault-properties"],"type":"object","var":"$parameters.properties.encryption.keyVaultProperties"}],"group":"Properties","help":{"short":"Configures how customer data is encrypted inside the Batch account. By default, accounts are encrypted using a Microsoft managed key. For additional control, a customer-managed key can be used instead."},"options":["encryption"],"type":"object","var":"$parameters.properties.encryption"},{"args":[{"args":[{"enum":{"items":[{"name":"Allow","value":"Allow"},{"name":"Deny","value":"Deny"}]},"help":{"short":"Default action for endpoint access. It is only applicable when publicNetworkAccess is enabled."},"options":["default-action"],"required":true,"type":"string","var":"@EndpointAccessProfile_update.defaultAction"},{"help":{"short":"Array of IP ranges to filter client IP address."},"item":{"args":[{"enum":{"items":[{"name":"Allow","value":"Allow"}]},"help":{"short":"Action when client IP address is matched."},"options":["action"],"required":true,"type":"string","var":"@EndpointAccessProfile_update.ipRules[].action"},{"help":{"short":"IPv4 address, or IPv4 address range in CIDR format."},"options":["value"],"required":true,"type":"string","var":"@EndpointAccessProfile_update.ipRules[].value"}],"type":"object"},"options":["ip-rules"],"type":"array<object>","var":"@EndpointAccessProfile_update.ipRules"}],"cls":"EndpointAccessProfile_update","help":{"short":"Network access profile for batchAccount endpoint (Batch account data plane API)."},"options":["account-access"],"type":"object","var":"$parameters.properties.networkProfile.accountAccess"},{"help":{"short":"Network access profile for nodeManagement endpoint (Batch service managing compute nodes for Batch pools)."},"options":["node-management-access"],"type":"@EndpointAccessProfile_update","var":"$parameters.properties.networkProfile.nodeManagementAccess"}],"group":"Properties","help":{"short":"The network profile only takes effect when publicNetworkAccess is enabled."},"options":["network-profile"],"type":"object","var":"$parameters.properties.networkProfile"},{"default":{"value":"Enabled"},"enum":{"items":[{"name":"Disabled","value":"Disabled"},{"name":"Enabled","value":"Enabled"}]},"group":"Properties","help":{"short":"If not specified, the default value is 'enabled'."},"options":["public-network-access"],"type":"string","var":"$parameters.properties.publicNetworkAccess"}],"name":"Properties"}],"operations":[{"http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Batch/batchAccounts/{accountName}","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"parameters","props":[{"name":"identity","props":[{"arg":"$parameters.identity.type","enum":{"items":[{"value":"None"},{"value":"SystemAssigned"},{"value":"UserAssigned"}]},"name":"type","required":true,"type":"string"},{"additionalProps":{"item":{"type":"object"}},"arg":"$parameters.identity.userAssignedIdentities","name":"userAssignedIdentities","type":"object"}],"systemAssigned":{"action":"create","arg":"$parameters.identity.systemAssigned","name":"systemAssigned","type":"string"},"type":"IdentityObject","userAssigned":{"action":"create","arg":"$parameters.identity.userAssigned","item":{"action":"create","type":"string"},"name":"userAssigned","type":"array<string>"}},{"clientFlatten":true,"name":"properties","props":[{"arg":"$parameters.properties.allowedAuthenticationModes","item":{"enum":{"items":[{"value":"AAD"},{"value":"SharedKey"},{"value":"TaskAuthenticationToken"}]},"type":"string"},"name":"allowedAuthenticationModes","nullable":true,"type":"array<string>"},{"arg":"$parameters.properties.autoStorage","name":"autoStorage","props":[{"arg":"$parameters.properties.autoStorage.authenticationMode","default":{"value":"StorageKeys"},"enum":{"items":[{"value":"BatchAccountManagedIdentity"},{"value":"StorageKeys"}]},"name":"authenticationMode","type":"string"},{"arg":"$parameters.properties.autoStorage.nodeIdentityReference","name":"nodeIdentityReference","props":[{"arg":"$parameters.properties.autoStorage.nodeIdentityReference.resourceId","name":"resourceId","type":"string"}],"type":"object"},{"arg":"$parameters.properties.autoStorage.storageAccountId","name":"storageAccountId","required":true,"type":"ResourceId"}],"type":"object"},{"arg":"$parameters.properties.encryption","name":"encryption","props":[{"arg":"$parameters.properties.encryption.keySource","enum":{"items":[{"value":"Microsoft.Batch"},{"value":"Microsoft.KeyVault"}]},"name":"keySource","type":"string"},{"arg":"$parameters.properties.encryption.keyVaultProperties","name":"keyVaultProperties","props":[{"arg":"$parameters.properties.encryption.keyVaultProperties.keyIdentifier","name":"keyIdentifier","type":"string"}],"type":"object"}],"type":"object"},{"arg":"$parameters.properties.networkProfile","name":"networkProfile","props":[{"arg":"$parameters.properties.networkProfile.accountAccess","cls":"EndpointAccessProfile_update","name":"accountAccess","props":[{"arg":"@EndpointAccessProfile_update.defaultAction","enum":{"items":[{"value":"Allow"},{"value":"Deny"}]},"name":"defaultAction","required":true,"type":"string"},{"arg":"@EndpointAccessProfile_update.ipRules","identifiers":["action"],"item":{"props":[{"arg":"@EndpointAccessProfile_update.ipRules[].action","enum":{"items":[{"value":"Allow"}]},"name":"action","required":true,"type":"string"},{"arg":"@EndpointAccessProfile_update.ipRules[].value","name":"value","required":true,"type":"string"}],"type":"object"},"name":"ipRules","type":"array<object>"}],"type":"object"},{"arg":"$parameters.properties.networkProfile.nodeManagementAccess","name":"nodeManagementAccess","type":"@EndpointAccessProfile_update"}],"type":"object"},{"arg":"$parameters.properties.publicNetworkAccess","default":{"value":"Enabled"},"enum":{"items":[{"value":"Disabled"},{"value":"Enabled"}]},"name":"publicNetworkAccess","type":"string"}],"type":"object"},{"additionalProps":{"item":{"type":"string"}},"arg":"$parameters.tags","name":"tags","type":"object"}],"required":true,"type":"object"}}},"method":"patch","path":{"params":[{"arg":"$Path.accountName","format":{"maxLength":24,"minLength":3,"pattern":"^[a-zA-Z0-9]+$"},"name":"accountName","required":true,"type":"string"},{"arg":"$Path.resourceGroupName","name":"resourceGroupName","required":true,"type":"string"},{"arg":"$Path.subscriptionId","name":"subscriptionId","required":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2024-02-01"},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Batch/batchAccounts/{}"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"identity","props":[{"name":"principalId","readOnly":true,"type":"string"},{"name":"tenantId","readOnly":true,"type":"string"},{"enum":{"items":[{"value":"None"},{"value":"SystemAssigned"},{"value":"UserAssigned"}]},"name":"type","required":true,"type":"string"},{"additionalProps":{"item":{"props":[{"name":"clientId","readOnly":true,"type":"string"},{"name":"principalId","readOnly":true,"type":"string"}],"type":"object"}},"name":"userAssignedIdentities","type":"object"}],"type":"IdentityObject"},{"name":"location","readOnly":true,"type":"ResourceLocation"},{"name":"name","readOnly":true,"type":"string"},{"clientFlatten":true,"name":"properties","props":[{"name":"accountEndpoint","readOnly":true,"type":"string"},{"name":"activeJobAndJobScheduleQuota","readOnly":true,"type":"integer32"},{"item":{"enum":{"items":[{"value":"AAD"},{"value":"SharedKey"},{"value":"TaskAuthenticationToken"}]},"type":"string"},"name":"allowedAuthenticationModes","nullable":true,"readOnly":true,"type":"array<string>"},{"name":"autoStorage","props":[{"default":{"value":"StorageKeys"},"enum":{"items":[{"value":"BatchAccountManagedIdentity"},{"value":"StorageKeys"}]},"name":"authenticationMode","type":"string"},{"format":{"protocol":"iso"},"name":"lastKeySync","required":true,"type":"dateTime"},{"name":"nodeIdentityReference","props":[{"name":"resourceId","type":"string"}],"type":"object"},{"name":"storageAccountId","required":true,"type":"ResourceId"}],"readOnly":true,"type":"object"},{"name":"dedicatedCoreQuota","nullable":true,"readOnly":true,"type":"integer32"},{"identifiers":["name"],"item":{"props":[{"name":"coreQuota","readOnly":true,"type":"integer32"},{"name":"name","readOnly":true,"type":"string"}],"type":"object"},"name":"dedicatedCoreQuotaPerVMFamily","nullable":true,"readOnly":true,"type":"array<object>"},{"name":"dedicatedCoreQuotaPerVMFamilyEnforced","readOnly":true,"type":"boolean"},{"name":"encryption","props":[{"enum":{"items":[{"value":"Microsoft.Batch"},{"value":"Microsoft.KeyVault"}]},"name":"keySource","type":"string"},{"name":"keyVaultProperties","props":[{"name":"keyIdentifier","type":"string"}],"type":"object"}],"readOnly":true,"type":"object"},{"name":"keyVaultReference","props":[{"name":"id","required":true,"type":"ResourceId"},{"name":"url","required":true,"type":"string"}],"readOnly":true,"type":"object"},{"name":"lowPriorityCoreQuota","nullable":true,"readOnly":true,"type":"integer32"},{"name":"networkProfile","nullable":true,"props":[{"cls":"EndpointAccessProfile_read","name":"accountAccess","props":[{"enum":{"items":[{"value":"Allow"},{"value":"Deny"}]},"name":"defaultAction","required":true,"type":"string"},{"identifiers":["action"],"item":{"props":[{"enum":{"items":[{"value":"Allow"}]},"name":"action","required":true,"type":"string"},{"name":"value","required":true,"type":"string"}],"type":"object"},"name":"ipRules","type":"array<object>"}],"type":"object"},{"name":"nodeManagementAccess","type":"@EndpointAccessProfile_read"}],"type":"object"},{"name":"nodeManagementEndpoint","readOnly":true,"type":"string"},{"enum":{"items":[{"value":"BatchService"},{"value":"UserSubscription"}]},"name":"poolAllocationMode","type":"string"},{"name":"poolQuota","readOnly":true,"type":"integer32"},{"item":{"props":[{"name":"etag","readOnly":true,"type":"string"},{"format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Batch/batchAccounts/{}/privateEndpointConnections/{}"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"name","readOnly":true,"type":"string"},{"clientFlatten":true,"name":"properties","props":[{"item":{"type":"string"},"name":"groupIds","readOnly":true,"type":"array<string>"},{"name":"privateEndpoint","props":[{"name":"id","readOnly":true,"type":"string"}],"readOnly":true,"type":"object"},{"name":"privateLinkServiceConnectionState","props":[{"name":"actionsRequired","readOnly":true,"type":"string"},{"name":"description","type":"string"},{"enum":{"items":[{"value":"Approved"},{"value":"Disconnected"},{"value":"Pending"},{"value":"Rejected"}]},"name":"status","required":true,"type":"string"}],"type":"object"},{"enum":{"items":[{"value":"Cancelled"},{"value":"Creating"},{"value":"Deleting"},{"value":"Failed"},{"value":"Succeeded"},{"value":"Updating"}]},"name":"provisioningState","readOnly":true,"type":"string"}],"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"name":"privateEndpointConnections","nullable":true,"readOnly":true,"type":"array<object>"},{"enum":{"items":[{"value":"Cancelled"},{"value":"Creating"},{"value":"Deleting"},{"value":"Failed"},{"value":"Invalid"},{"value":"Succeeded"}]},"name":"provisioningState","readOnly":true,"type":"string"},{"default":{"value":"Enabled"},"enum":{"items":[{"value":"Disabled"},{"value":"Enabled"}]},"name":"publicNetworkAccess","nullable":true,"type":"string"}],"type":"object"},{"additionalProps":{"item":{"type":"string"},"readOnly":true},"name":"tags","readOnly":true,"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[200]},{"body":{"json":{"schema":{"type":"@ODataV4Format"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"operationId":"BatchAccount_Update"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.batch/batchaccounts/{}","plane":"mgmt-plane"}]}