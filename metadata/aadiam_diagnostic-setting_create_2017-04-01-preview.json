{"argGroups":[{"args":[{"help":{"short":"The name of the diagnostic setting."},"options":["name"],"required":true,"type":"string","var":"$Path.name"}],"name":""},{"args":[{"group":"Properties","help":{"short":"The resource Id for the event hub authorization rule."},"options":["event-hub-authorization-rule-id"],"type":"string","var":"$parameters.properties.eventHubAuthorizationRuleId"},{"group":"Properties","help":{"short":"The name of the event hub. If none is specified, the default event hub will be selected."},"options":["event-hub-name"],"type":"string","var":"$parameters.properties.eventHubName"},{"group":"Properties","help":{"short":"The list of logs settings."},"item":{"args":[{"enum":{"items":[{"name":"AuditLogs","value":"AuditLogs"},{"name":"SignInLogs","value":"SignInLogs"}]},"help":{"short":"Name of a Diagnostic Log category for a resource type this setting is applied to. To obtain the list of Diagnostic Log categories for a resource, first perform a GET diagnostic settings operation."},"options":["category"],"type":"string","var":"$parameters.properties.logs[].category"},{"help":{"short":"A value indicating whether this log is enabled."},"options":["enabled"],"required":true,"type":"boolean","var":"$parameters.properties.logs[].enabled"},{"args":[{"format":{"minimum":0},"help":{"short":"The number of days for the retention in days. A value of 0 will retain the events indefinitely."},"options":["days"],"required":true,"type":"integer32","var":"$parameters.properties.logs[].retentionPolicy.days"},{"help":{"short":"A value indicating whether the retention policy is enabled."},"options":["enabled"],"required":true,"type":"boolean","var":"$parameters.properties.logs[].retentionPolicy.enabled"}],"help":{"short":"The retention policy for this log."},"options":["retention-policy"],"type":"object","var":"$parameters.properties.logs[].retentionPolicy"}],"type":"object"},"options":["logs"],"type":"array<object>","var":"$parameters.properties.logs"},{"group":"Properties","help":{"short":"The service bus rule Id of the diagnostic setting. This is here to maintain backwards compatibility."},"options":["service-bus-rule-id"],"type":"string","var":"$parameters.properties.serviceBusRuleId"},{"group":"Properties","help":{"short":"The resource ID of the storage account to which you would like to send Diagnostic Logs."},"options":["storage-account-id"],"type":"string","var":"$parameters.properties.storageAccountId"},{"group":"Properties","help":{"short":"The workspace ID (resource ID of a Log Analytics workspace) for a Log Analytics workspace to which you would like to send Diagnostic Logs. Example: /subscriptions/4b9e8510-67ab-4e9a-95a9-e2f1e570ea9c/resourceGroups/insights-integration/providers/Microsoft.OperationalInsights/workspaces/viruela2"},"options":["workspace-id"],"type":"string","var":"$parameters.properties.workspaceId"}],"name":"Properties"}],"operations":[{"http":{"path":"/providers/microsoft.aadiam/diagnosticSettings/{name}","request":{"body":{"json":{"schema":{"clientFlatten":true,"name":"parameters","props":[{"clientFlatten":true,"name":"properties","props":[{"arg":"$parameters.properties.eventHubAuthorizationRuleId","name":"eventHubAuthorizationRuleId","type":"string"},{"arg":"$parameters.properties.eventHubName","name":"eventHubName","type":"string"},{"arg":"$parameters.properties.logs","item":{"props":[{"arg":"$parameters.properties.logs[].category","enum":{"items":[{"value":"AuditLogs"},{"value":"SignInLogs"}]},"name":"category","type":"string"},{"arg":"$parameters.properties.logs[].enabled","name":"enabled","required":true,"type":"boolean"},{"arg":"$parameters.properties.logs[].retentionPolicy","name":"retentionPolicy","props":[{"arg":"$parameters.properties.logs[].retentionPolicy.days","format":{"minimum":0},"name":"days","required":true,"type":"integer32"},{"arg":"$parameters.properties.logs[].retentionPolicy.enabled","name":"enabled","required":true,"type":"boolean"}],"type":"object"}],"type":"object"},"name":"logs","type":"array<object>"},{"arg":"$parameters.properties.serviceBusRuleId","name":"serviceBusRuleId","type":"string"},{"arg":"$parameters.properties.storageAccountId","name":"storageAccountId","type":"string"},{"arg":"$parameters.properties.workspaceId","name":"workspaceId","type":"string"}],"type":"object"}],"required":true,"type":"object"}}},"method":"put","path":{"params":[{"arg":"$Path.name","name":"name","required":true,"type":"string"}]},"query":{"consts":[{"const":true,"default":{"value":"2017-04-01-preview"},"name":"api-version","readOnly":true,"required":true,"type":"string"}]}},"responses":[{"body":{"json":{"schema":{"props":[{"format":{"template":"/providers/microsoft.aadiam/diagnosticSettings/{}"},"name":"id","readOnly":true,"type":"ResourceId"},{"name":"name","readOnly":true,"type":"string"},{"clientFlatten":true,"name":"properties","props":[{"name":"eventHubAuthorizationRuleId","type":"string"},{"name":"eventHubName","type":"string"},{"item":{"props":[{"enum":{"items":[{"value":"AuditLogs"},{"value":"SignInLogs"}]},"name":"category","type":"string"},{"name":"enabled","required":true,"type":"boolean"},{"name":"retentionPolicy","props":[{"format":{"minimum":0},"name":"days","required":true,"type":"integer32"},{"name":"enabled","required":true,"type":"boolean"}],"type":"object"}],"type":"object"},"name":"logs","type":"array<object>"},{"name":"serviceBusRuleId","type":"string"},{"name":"storageAccountId","type":"string"},{"name":"workspaceId","type":"string"}],"type":"object"},{"name":"type","readOnly":true,"type":"string"}],"type":"object"},"var":"$Instance"}},"statusCode":[200]},{"body":{"json":{"schema":{"type":"@ODataV4Format"}}},"isError":true},{"body":{"json":{"schema":{"type":"@MgmtErrorFormat"}}},"isError":true}]},"operationId":"DiagnosticSettings_CreateOrUpdate"}],"outputs":[{"clientFlatten":true,"ref":"$Instance","type":"object"}],"resources":[{"id":"/providers/microsoft.aadiam/diagnosticsettings/{}","plane":"mgmt-plane"}]}